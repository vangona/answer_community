{"version":3,"sources":["fBase.js","components/Loading.js","components/Messaginginit.js","components/NoteFactory.js","components/Answer.js","components/DB/CheerDB.js","components/Cheer.js","components/Search.js","routes/Home.js","components/Login.js","routes/Auth.js","routes/MyAnswers.js","routes/QuestionDetail.js","routes/QuestionRegister.js","components/Question.js","routes/Questions.js","routes/Navigation.js","routes/Settings.js","components/Friends.js","components/Reply.js","components/Note.js","components/Notes.js","routes/Community.js","routes/UserAnswers.js","routes/SignOut.js","components/DB/Sponsor.js","hooks/UseInterval.js","music/Soul and Mind - E's Jammy Jams.mp3","routes/Credit.js","components/NotesList.js","routes/NotesUser.js","components/NoteDetail.js","routes/NotesAnswer.js","routes/Manual.js","components/Router.js","components/App.js","serviceWorkerRegistration.js","index.js"],"names":["firebase","apps","length","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseInstance","authService","messaging","isSupported","auth","dbService","firestore","storage","LoadingBox","styled","div","Blink","keyframes","Skew","DotBlink","Title","h1","Bulb","img","Drawer","Dot","comment","Loading","useState","num","setNum","useEffect","Math","floor","random","class","src","alt","setToken","a","console","log","getToken","then","catch","err","token","onMessage","payload","alert","notification","body","Container","NoteTextarea","textarea","IconBox","NoteFactory","answer","userObj","setNoteState","noteContent","setNoteContent","onSubmit","e","preventDefault","noteId","uuidv4","noteObj","createdAt","Date","now","writer","uid","writerName","displayName","receiver","userId","answerId","isRead","collection","doc","set","get","snapshot","data","axios","post","headers","response","value","onChange","target","onClick","window","confirm","userName","style","width","height","transform","Question","InfoContainer","CreatedAt","span","WriterContainer","Writer","Content","EditInput","Answer","refreshFriends","editState","setEditState","noteState","changedAnswer","setChangedAnswer","history","useHistory","Time","year","getFullYear","month","getMonth","day","getDate","date","lastTime","lastMinutes","round","lastHours","lastDays","onClicekFriend","update","friends","left","push","questionId","question","modifedAt","marginLeft","icon","faPencilAlt","delete","answers","FieldValue","increment","faTrashAlt","includes","faUserPlus","isPrivate","autoFocus","CheerComment","animated","CheerPhrase","Cheer","cheer","setCheer","animation","useSpring","from","opacity","y","to","SearchContainer","SearchInput","input","SearchSubmit","button","CloseBtn","SearchBtn","SearchBtnLabel","Search","onSearch","searchWord","setSearchWord","searchState","setSearchState","fromHome","faTimes","size","faSearch","RandomBtn","AddBtn","LastAnswer","DiceContainer","Dice","Notice","Home","answerCount","isLoading","setISLoading","setAnswers","currentPage","setCurrentPage","diceState","setDiceState","randomState","setRandomState","getData","setTimeout","randArray","i","l","makeRandArray","where","onSnapshot","answerArray","docs","map","id","sort","b","orderBy","limitToLast","posts","currentPosts","slice","faDice","faPlusCircle","AuthConatiner","LoginContainer","LoginLabel","label","LoginInput","LoginBtn","PasswordContainer","PasswordLabel","PasswordInput","PasswordBtn","Error","Login","setCodeState","codeState","code","setCode","password","setPassword","error","setError","signInWithEmailAndPassword","message","config","gentle","errorAni","type","Background","AuthBox","Welcome","Auth","authState","setAuthState","top","molasses","welcomeAni","MyAnswers","setIsLoading","myAnswers","setMyAnswers","getMyAnswers","myAnswerArray","myAnswer","QuestionDetail","useParams","getAnswers","snapShot","answerData","QuestionContainer","CheerContainer","QuestionName","h3","QuestionForm","form","QuestionInput","Submit","CheerName","CheerForm","CheerInput","CodeContainer","CodeInput","CodeBtn","CodeDiv","QuestionRegister","questionName","setQuestionName","cheerName","setCheerName","specific","setSpecific","questionObj","answerUsers","publicAnswer","onSubmitCheer","cheerId","cheerObj","makeCode","chars","randomstring","rnum","substring","createUserWithEmailAndPassword","newUserObj","user","isPassword","initCode","signOut","AnswerContainer","AnswerInput","AnswerTextarea","PrivateLabel","AnswerBtn","setIsPrivate","setAnswer","longAnswer","setLongAnswer","answerValue","pathname","getAttribute","name","answerObj","editedAt","index","marginBottom","LastQuestion","Questions","questionArray","questions","setQuestions","getQuestions","filter","NavComponent","NavTitle","NavBtn","NavCloseBtn","Navigation","navState","setNavState","x","reverse","default","reverseAnimation","onNavClick","textDecoration","faHome","faEdit","faInbox","faUserFriends","faCog","faChevronLeft","faChevronRight","ProfileContainer","ProfileLabel","ProfileForm","ProfileInput","ProfileSubmitBtn","BtnContainer","ManualBtn","CreditBtn","LogOutBtn","QnaContainer","QnaLabel","QnaInput","QnaSubmitBtn","Settings","refreshUser","setDisplayName","email","setEmail","report","setReport","nameState","setNameState","emailState","setEmailState","passwordState","setPasswordState","displayname","updateProfile","onSubmitEmail","currentUser","updateEmail","onSubmitPassword","updatePassword","onReport","reportObj","add","required","marginTop","fontSize","FriendList","Friend","FriendRight","FriendName","FriendCode","FriendIcon","Friends","getFriendLoading","loading","setFriends","friendsId","SetFriendsId","getFriends","friendArray","friendIdArray","forEach","onClickUser","onDeleteFriend","friend","newFriends","toLowerCase","Reply","note","Column","NoteContainer","NoteTitle","NoteWriter","NoteAnswer","NoteIcon","DeleteIcon","Note","replyState","setReplyState","NoteBox","NoteList","Notes","noteData","setNoteData","querySnapshot","noteArray","Community","friendLoading","setFriendLoading","UserAnswers","SignOut","Sponsor","thinkShare","sponsor","useInterval","callback","delay","intervalRef","useRef","savedCallback","current","setInterval","clearInterval","PlayBox","PlayInput","PlayBtnBox","PlayBtn","ThanksContainer","ThanksTitle","h2","ThanksName","Comment","Name","White","Thankyou","Credit","init","setInit","speed","setSpeed","setScroll","commentState","setCommentState","Audio","bgm","bgmJazz","onClickPlay","isMobile","play","pause","scrollY","innerHeight","document","scrollHeight","scriptPlay","scrollBy","behavior","bottom","max","min","scrollTo","faBackward","faPlay","faPause","faForward","thinkperson","transitionDelay","NoteContent","NoteTime","NotesList","faCommentAlt","NotesContainer","NotesAnswer","setUserName","notesCategory","setNotesCategory","notesCategoryData","notesCategoryAnswer","notesArray","category","NoteDetail","alignSelf","notesData","setNotesData","setQuestion","Manual","AppRouter","isLoggedIn","exact","path","NotesUser","GlobalStyle","createGlobalStyle","reset","App","setUserObj","setAnswerCount","requestToken","JSON","parse","localStorage","getItem","setItem","stringify","querySelector","onAuthStateChanged","navigator","countData","userData","args","Boolean","isLocalhost","location","hostname","match","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","Sentry","dsn","integrations","Integrations","BrowserTracing","tracesSampleRate","ReactDOM","render","StrictMode","getElementById","URL","process","href","origin","addEventListener","fetch","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.cc8476cd.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\nimport \"firebase/messaging\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyCp6H94uOjFnuEvgDEoTt2V_PLtt0DBnrs\",\r\n  authDomain: \"answercommunity-328ec.firebaseapp.com\",\r\n  projectId: \"answercommunity-328ec\",\r\n  storageBucket: \"answercommunity-328ec.appspot.com\",\r\n  messagingSenderId: \"471754929471\",\r\n  appId: \"1:471754929471:web:76a974475f1d82dbf54f8a\",\r\n  measurementId: \"G-KJV9NQRBNJ\"\r\n};\r\n\r\nif (!firebase.apps.length) {\r\n  firebase.initializeApp(firebaseConfig);\r\n} else {\r\n  firebase.app();\r\n}\r\n\r\nexport const firebaseInstance = firebase;\r\n\r\nexport const messaging = firebase.messaging.isSupported() ? firebase.messaging() : null;\r\nexport const authService = firebase.auth();\r\nexport const dbService = firebase.firestore();\r\nexport const storageService = firebase.storage();","import React, { useEffect, useState } from \"react\";\r\nimport styled, { keyframes } from \"styled-components\";\r\n\r\nconst LoadingBox = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    color: white;\r\n`;\r\n\r\nconst Blink = keyframes`\r\n    0% {\r\n        opacity: 100%;\r\n    }\r\n    50% {\r\n        opacity: 30%;\r\n    }\r\n    100% {\r\n        opacity: 100%;\r\n    }\r\n`;\r\n\r\nconst Skew = keyframes`\r\n    0% {\r\n        transform: skew(0)\r\n    }\r\n    33% {\r\n        transform: skew(-1deg)\r\n    }\r\n    66% {\r\n        transform: skew(1deg)\r\n    }\r\n    100% {\r\n        transform: skew(0)\r\n    }\r\n`;\r\n\r\nconst DotBlink = keyframes`\r\n    0% {\r\n        opacity: 0%;\r\n    }\r\n    20% {\r\n        opacity: 0%;\r\n    }\r\n    40% {\r\n        opacity: 100%;\r\n    }\r\n    60% {\r\n        opacity: 100%;\r\n    }\r\n    80% {\r\n        opacity: 100%;\r\n    }\r\n    100% {\r\n        opacity: 100%\r\n    }\r\n`;\r\n\r\nconst Title = styled.h1`\r\n    position: absolute;\r\n    bottom: 55vh;\r\n    display: flex;\r\n    margin-bottom: 30px;\r\n    font-family: Kyobo Handwriting;\r\n`;\r\n\r\nconst Bulb = styled.img`\r\n    position: absolute;\r\n    height: 35vh;\r\n    width: auto;\r\n    top: 0;\r\n    animation: ${Blink} 2s ease-in-out infinite;\r\n`;\r\n\r\nconst Drawer = styled.img`\r\n    position: absolute;\r\n    animation: ${Skew} 2s ease-in-out infinite ;\r\n    height: 35vh;\r\n    width: auto;\r\n    opacity: 80%;\r\n    bottom: 20vh;\r\n    object-fit: cover;\r\n`;\r\n\r\nconst Dot = styled.div`\r\n    animation: ${DotBlink} 2s infinite;\r\n    :nth-child(2) {\r\n        animation-delay: 0.5s;\r\n    }\r\n    :last-child {\r\n        animation-delay: 1s;\r\n    }\r\n`;\r\n\r\nconst comment = [\r\n    \"서랍장 문여는 중\", \r\n    \"사람들이 쓴 답변 모으는 중\", \r\n    \"주인장이 편지 쓰는 중\", \r\n    \"서랍장 바닥 닦는 중\", \r\n    \"주인장이 몰래 먹던 야식 감추는 중\", \r\n    \"전구 닦는 중\",\r\n    \"주인장 자세 잡는 중\",\r\n    \"서랍장 손잡이 조정 중\",\r\n    \"전구 밝기 조절 중\",\r\n    \"명예의 전당 기록 중\",\r\n    \"의자 높이 조정 중\",\r\n    ]\r\n\r\nconst Loading = () => {\r\n    const [num, setNum] = useState(\"\");\r\n    useEffect(() => {\r\n        setNum(Math.floor(Math.random()*comment.length))\r\n    }, [])\r\n    return (\r\n       <LoadingBox>\r\n           <Bulb class=\"loading__bulb\" src=\"https://cdn.jsdelivr.net/gh/vangona/answer_community/src/img/loading_bulb.png\" alt=\"\" />\r\n           <Title>\r\n               {comment[num]}<Dot>.</Dot><Dot>.</Dot><Dot>.</Dot>\r\n            </Title>\r\n           <Drawer class=\"loading__drawer\" src=\"https://cdn.jsdelivr.net/gh/vangona/answer_community/src/img/loading_drawer.png\" alt=\"\" />\r\n       </LoadingBox>\r\n    )\r\n}\r\n\r\nexport default Loading;","import firebase from \"firebase\"\r\n\r\nexport const setToken = async () => {\r\n    if (!firebase.messaging.isSupported()) {\r\n        console.log(\"isSupported: \", firebase.messaging.isSupported())\r\n        return null;\r\n    } else {\r\n        const messaging = firebase.messaging();\r\n        const token = await messaging.getToken()\r\n        .then(() => {\r\n            return messaging.getToken()\r\n        }).catch((err) => {\r\n            console.log('error : ', err);\r\n            return null;\r\n        })\r\n        .then((token) => {\r\n            messaging.onMessage(payload => {\r\n                alert(payload.notification.body)\r\n            })\r\n            return token;\r\n        })\r\n        .catch((err) => {\r\n            console.log('error : ', err);\r\n            return null;\r\n        })\r\n        return token;\r\n    }\r\n}","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { dbService } from \"../fBase\";\r\nimport { PaperAirplaneIcon } from \"@heroicons/react/outline\"\r\nimport { v4 as uuidv4} from \"uuid\";\r\nimport axios from \"axios\";\r\n\r\nconst Container = styled.div`\r\n    margin-top: 10px;\r\n    text-indent: 5px;\r\n  line-height: 17px;\r\n  background-color: white;\r\n  word-break: keep-all;\r\n  border-bottom-right-radius: 10px;\r\n  font-family: Jeju Myeongjo;\r\n  width: 100%;\r\n  padding: 15px;\r\n  font-size: 12px;\r\n  opacity: 70%;\r\n  color: black;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n`;\r\n\r\nconst Title = styled.div``;\r\n\r\nconst NoteTextarea = styled.textarea`\r\n    font-size: 12px;\r\n    width: 95%;\r\n`;\r\n\r\nconst IconBox = styled.div`\r\n    display: flex;\r\n    position: absolute;\r\n    width: 20px;\r\n    right: 5px;\r\n    top: 5px;\r\n    justify-content: flex-end;\r\n    :hover {\r\n        cursor: pointer;\r\n    }\r\n`;\r\n\r\nconst NoteFactory = ({answer, userObj, setNoteState}) => {\r\n    const [noteContent, setNoteContent] = useState('');\r\n\r\n    const onChange = e => {\r\n        setNoteContent(e.target.value)\r\n    }\r\n\r\n    const onSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (noteContent) {\r\n            const noteId = uuidv4()\r\n            const noteObj = {\r\n            noteContent,\r\n            noteId,\r\n            createdAt: Date.now(),\r\n            writer: userObj.uid,\r\n            writerName: userObj.displayName,\r\n            receiver: answer.userId,\r\n            answer: answer.answer,\r\n            answerId: answer.answerId,\r\n            isRead: false,\r\n        }\r\n        dbService.collection(\"notes\").doc(`${noteId}`).set(noteObj)\r\n        await dbService.collection(\"users\").doc(`${answer.userId}`).get()\r\n        .then(snapshot => {\r\n            const data = snapshot.data()\r\n            const token = data.token\r\n            axios.post(\"https://fcm.googleapis.com/fcm/send\", {\r\n                \"to\": `${token}`,\r\n                \"notification\": {\r\n                    \"title\": `${userObj.displayName}님에게 쪽지가 도착했습니다.`,\r\n                    \"body\": `${noteContent}`\r\n                }\r\n            }, \r\n            {\r\n                headers:  \r\n                {\r\n                    \"Content-Type\": \"application/json\",\r\n                    \"Authorization\": \"key=AAAAbdbI9T8:APA91bHBHA83-rpRKMQChKE7FcUkvFSzbZ1qHOBZhrXNxBdo6U2cfB89xqpbsLIjYbBHVyGhOMFWwZNlRMF0I9cAshUvrkhyWDZqMcjgx5FzuAL3P9IK2YivTtQfdvygSIAhk9HVM30K\"\r\n                }\r\n            })\r\n            .then(response => {console.log(response)})\r\n            .catch(response => {console.log(response)})\r\n        })\r\n        alert(\"쪽지가 성공적으로 보내졌습니다 :)\")\r\n        setNoteState(false);\r\n        setNoteContent('');\r\n    }\r\n    }\r\n    return (\r\n        <Container>\r\n            <Title>쪽지</Title>\r\n            <hr />\r\n            <NoteTextarea value={noteContent} onChange={onChange} />\r\n            <IconBox onClick={(e) => {\r\n                if(window.confirm(`${answer.userName}님께 쪽지를 보낼까요?`)){\r\n                    onSubmit(e)\r\n                }\r\n                \r\n            }}>\r\n                <PaperAirplaneIcon style={{width:\"16px\", height:\"16px\", transform: \"rotateZ(45deg)\"}} />\r\n            </IconBox>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default NoteFactory;","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { MailIcon } from \"@heroicons/react/outline\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faPencilAlt, faTrashAlt, faUserPlus } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { dbService, firebaseInstance } from \"../fBase\";\r\nimport NoteFactory from \"./NoteFactory\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nconst Container = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 80%;\r\n  padding: 25px 15px 30px 15px;\r\n  box-sizing: border-box;\r\n  border: 1px solid black;\r\n  box-shadow: 5px 5px 10px 0px rgba(0,0,0,0.75);\r\n  -webkit-box-shadow: 5px 5px 10px 0px rgba(0,0,0,0.75);\r\n  -moz-box-shadow: 5px 5px 10px 0px rgba(0,0,0,0.75);\r\n  color: black;\r\n  border-radius: 3px;\r\n  background-color: white;\r\n  opacity: 70%;\r\n  margin: 10px;\r\n  transition: 0.3s all ease-in-out;\r\n  transform: skewX(-0.5deg);\r\n  :hover {\r\n      color: var(--main-color);\r\n      transform: skew(0, 0);\r\n      opacity: 100%;\r\n  }\r\n`;\r\n\r\nconst Question = styled.h1`\r\n  line-height: 20px;\r\n  text-align: center;\r\n  word-break: keep-all;\r\n  transition: 0.3s all ease-in-out;\r\n  font-family: Jeju Myeongjo;\r\n  margin-bottom: 20px;\r\n  font-size: 0.9rem;\r\n  :hover {\r\n    color: var(--gold);\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst InfoContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  transition: 0.1s all ease-in-out;\r\n  color: black;\r\n  position: absolute;\r\n  bottom: 10px;\r\n  right: 15px;\r\n  font-size: 0.7rem;\r\n  :hover {\r\n    color: var(--gold);\r\n  }\r\n`;\r\n\r\nconst CreatedAt = styled.span`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  transition: 0.5s all ease-in-out;\r\n  color: black;\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 15px;\r\n  font-size: 0.6rem;\r\n  :hover {\r\n    cursor: pointer;\r\n    color: var(--gold);\r\n  }\r\n`;\r\n\r\nconst WriterContainer = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  color: black;\r\n`;\r\n\r\nconst Writer = styled.span`\r\n  transition: 0.3s all ease-in-out;\r\n  text-align: right;\r\n  width: auto;\r\n  box-sizing: border-box;\r\n  margin-bottom: 10px;\r\n  font-size: 0.7rem;\r\n  :hover {\r\n    color: var(--gold);\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst Content = styled.div`\r\n  text-indent: 5px;\r\n  line-height: 160%;\r\n  background-color: white;\r\n  opacity: inherit;\r\n  border-radius: 10px;\r\n  word-break: keep-all;\r\n  font-family: Jeju Myeongjo;\r\n  width: 100%;\r\n  padding: 15px;\r\n  font-size: 0.8rem;\r\n  color: black;\r\n  box-sizing: border-box;\r\n`;\r\n\r\nconst IconBox = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-left: 5px;\r\n  color: inherit;\r\n  transition: 0.5s all ease-in-out;\r\n  :hover {\r\n    color: var(--gold);\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst EditInput = styled.textarea`\r\n  line-height: 17px;\r\n  font-size: 0.7rem;\r\n  width: 90%;\r\n`;\r\n\r\nconst Answer = ({answer, userObj, refreshFriends}) => {\r\n  const [editState, setEditState] = useState(false);\r\n  const [noteState, setNoteState] = useState(false);\r\n  const [changedAnswer, setChangedAnswer] = useState('');\r\n  \r\n  const history = useHistory();\r\n\r\n  const Time = new Date(answer.createdAt) \r\n  const year = Time.getFullYear();\r\n  const month = Time.getMonth() + 1;\r\n  const day = Time.getDate();\r\n  const date = `${year}년 ${month < 10 ? \"0\"+month : month}월 ${day < 10 ? \"0\"+day : day}일`\r\n  const lastTime = (Date.now() - answer.createdAt) / 1000 / 60\r\n  const lastMinutes = Math.round(lastTime)\r\n  const lastHours = Math.round(lastTime / 60)\r\n  const lastDays = Math.round(lastHours / 24)\r\n\r\n  const onClickEdit = e => {\r\n    e.preventDefault();\r\n    setChangedAnswer(answer.answer)\r\n    if (answer.userId === userObj.uid) {\r\n      setEditState(!editState);\r\n      if(changedAnswer !== answer.answer & editState === true) {\r\n        window.confirm(\"내용을 수정하시겠어요?\") \r\n        && dbService.collection(\"answers\").doc(answer.answerId).update({\r\n          answer: changedAnswer,\r\n          modifedAt: Date.now()\r\n        }) \r\n      }\r\n    }\r\n  }\r\n\r\n  const onClickDelete = e => {\r\n    e.preventDefault();\r\n    if (answer.userId === userObj.uid) {\r\n      window.confirm(\"정말 지우실건가요?\") && \r\n      dbService.collection(\"answers\").doc(answer.answerId).delete().then(() => {\r\n        dbService.collection(\"main\").doc(\"counts\").update({\r\n          answers: firebaseInstance.firestore.FieldValue.increment(-1)\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n  const onClicekFriend = async (answer) => {\r\n    await dbService.collection(\"users\").doc(`${userObj.uid}`).update({\r\n      friends: [...userObj.friends, answer.userId]\r\n    })\r\n    .then(() => {\r\n      refreshFriends([...userObj.friends, answer.userId])\r\n      alert(`${answer.userName}님을 서랍장에 추가했습니다.`)\r\n    })\r\n  }\r\n  \r\n  const onClickNote = e => {\r\n    e.preventDefault();\r\n    setNoteState(!noteState);\r\n  }\r\n\r\n  const onClickDetail = e => {\r\n    e.preventDefault();\r\n    history.push(`/question/${answer.questionId}`)\r\n  }\r\n\r\n  const onClickUser = e => {\r\n    e.preventDefault();\r\n    history.push(`/useranswer/${answer.userId}`)\r\n  }\r\n\r\n  const onChange = e => {\r\n    setChangedAnswer(e.target.value)\r\n  }\r\n\r\n  return (\r\n    <Container style={{left: `${Math.random() * 16 - 8}%`}}>\r\n      <Question onClick={onClickDetail}>{answer.question}</Question>\r\n      <InfoContainer>\r\n        {answer.userId === userObj.uid \r\n        ? (\r\n        <>\r\n          <IconBox onClick={onClickEdit}>\r\n            <FontAwesomeIcon style={{marginLeft: \"5px\"}} icon={faPencilAlt} />\r\n          </IconBox>\r\n          <IconBox onClick={onClickDelete}>\r\n            <FontAwesomeIcon style={{marginLeft: \"5px\"}} icon={faTrashAlt} />\r\n          </IconBox>\r\n        </>\r\n          )\r\n        : (\r\n          <>\r\n            {userObj.friends && !userObj.friends.includes(answer.userId) && \r\n            <IconBox>\r\n              <FontAwesomeIcon onClick={() => {\r\n                onClicekFriend(answer)\r\n              }} icon={faUserPlus} />\r\n            </IconBox>\r\n            }\r\n            <IconBox onClick={onClickNote}>\r\n              <MailIcon style={{width: \"15px\", marginLeft: \"5px\"}} />\r\n            </IconBox>\r\n          </>\r\n        )}\r\n      </InfoContainer>\r\n      <CreatedAt>{lastMinutes < 60 \r\n        ? `${lastMinutes}분 전` \r\n        : lastHours < 24 \r\n          ? `${lastHours}시간 전`\r\n          : lastDays > 7\r\n            ? `${date}`\r\n            : `${lastDays}일 전`\r\n        }</CreatedAt>\r\n      <WriterContainer>\r\n        <Writer onClick={onClickUser}>- {answer.userName}{answer.isPrivate && \" (나에게만 보임)\"}</Writer>\r\n      </WriterContainer>\r\n      <Content>\r\n        {editState \r\n        ? <EditInput autoFocus onChange={onChange} value={changedAnswer} />\r\n        : answer.answer}\r\n      </Content>\r\n      {noteState && <NoteFactory userObj={userObj} answer={answer} setNoteState={setNoteState} />}\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Answer;\r\n  ","export const CheerComment = [\r\n    \"당신이 생각하는 시간이 외롭지 않기를 바랍니다.\",\r\n    \"쉽지는 않겠지만, 분명 해낼 수 있어요.\",\r\n    \"항상 응원하고 있습니다.\",\r\n    \"예쁜 저녁노을이 지고, 기분 좋은 바람이 불던 날을 기억하나요?\",\r\n    \"오늘도 고생 많으셨어요.\",\r\n    \"같은 질문에 여러 번 대답할 수도 있어요.\",\r\n    \"친구 목록에서 친구의 이름을 누르면, 친구의 답들을 볼 수 있어요.\",\r\n    \"코드를 외우기 불편하다면, 비밀번호를 등록하고 코드를 변경해보세요.\",\r\n    \"댓글 없이, 쪽지만 만들었어요. 광장 같은 밀실을 바라요.\",\r\n    \"주인장에게 하고 싶은 말이 있다면, 설정에서 문의하기로 할 수 있어요.\",\r\n]","import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { animated, useSpring } from \"react-spring\";\r\nimport { CheerComment } from \"./DB/CheerDB\";\r\n\r\nconst Container = styled(animated.div)`\r\n    position: relative;\r\n    margin-top: 20px;\r\n    margin-bottom: 15px;\r\n    width: 90%; \r\n    height: 130px;\r\n    padding: 30px 0;\r\n    box-sizing: border-box;\r\n    background-color: white;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    opacity: 50%;\r\n    border-radius: 10px;\r\n    box-shadow: 5px 5px 10px 0px rgba(0,0,0,0.75);\r\n    -webkit-box-shadow: 5px 5px 10px 0px rgba(0,0,0,0.75);\r\n    -moz-box-shadow: 5px 5px 10px 0px rgba(0,0,0,0.75);\r\n`;\r\n\r\nconst CheerPhrase = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    text-align: center;\r\n    width: 80%;\r\n    word-break: keep-all;\r\n    line-height: 25px;\r\n    font-size: 1.1rem;\r\n    font-family: Kyobo Handwriting;\r\n`;\r\n\r\nconst Cheer = () => {\r\n    const [cheer, setCheer] = useState();\r\n    const animation = useSpring({\r\n        from: {\r\n            opacity: 0,\r\n            y: 10\r\n        },\r\n        to: {\r\n            opacity: 0.5,\r\n            y: 0\r\n        }\r\n    })\r\n\r\n    useEffect(() => {\r\n        setCheer(CheerComment[Math.floor(Math.random() * CheerComment.length)])\r\n    }, [])\r\n\r\n    return (\r\n        <Container style={animation}>\r\n            <CheerPhrase>\r\n                {cheer}\r\n            </CheerPhrase>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Cheer;","import { faSearch, faTimes } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React, { useState } from \"react\";\r\nimport { useEffect } from \"react/cjs/react.development\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: fixed;\r\n  bottom: 0;\r\n  height: 75px;\r\n  width: 100%;\r\n  padding: 10px 0;\r\n  z-index: 10;\r\n  transition: 0.3s all ease-in-out;\r\n  background-color: rgba(0,0,0,0.5);\r\n  :hover, :focus-within {\r\n    background-color: rgba(0,0,0,0.8);\r\n  }\r\n`;\r\n\r\nconst Title = styled.h1`  \r\n  font-family: Kyobo Handwriting;\r\n  font-size: 14px;\r\n  color: var(--gold);\r\n  margin-bottom: 20px;\r\n  transition: 0.3s all ease-in-out;\r\n`;\r\n\r\nconst SearchContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 3px;\r\n`;\r\n\r\nconst SearchInput = styled.input`\r\n  width: 200px;\r\n  transition: 0.3s all ease-in-out;\r\n  :focus {\r\n    border-radius: 10px;\r\n  }\r\n`;\r\n\r\nconst SearchSubmit = styled.button`\r\n    font-size: 0.8rem;\r\n    border-radius: 5px;\r\n    padding: 3px 5px;\r\n    border: 1px solid rgba(255,255,255,0.5);\r\n    color: white;\r\n    background-color: transparent;\r\n    font-family: Kyobo Handwriting;\r\n    transition: 0.5s all ease-in-out;\r\n    :hover {\r\n        cursor: pointer;\r\n        border: 1px solid var(--gold);\r\n        color: var(--gold);\r\n    }\r\n    :active {\r\n      transform: scale(0.95)\r\n    }\r\n`;\r\n\r\nconst CloseBtn = styled.button`\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  color: white;\r\n  background-color: transparent;\r\n  border: 0;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst SearchBtn = styled.button`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 5px;\r\n  color: white;\r\n  background-color: transparent;\r\n  border: 0;\r\n  position: fixed;\r\n  bottom: 20px;\r\n  right: 20px;\r\n  font-size: 20px;\r\n  font-family: Kyobo Handwriting;\r\n  transition: 0.5s all ease-in-out;\r\n  :hover {\r\n    cursor: pointer;\r\n    color: var(--gold);\r\n  }\r\n`;\r\n\r\nconst SearchBtnLabel = styled.span`\r\n  font-size: 12px;\r\n`;\r\n\r\nconst Search = ({ onSearch, from, searchWord, setSearchWord }) => {\r\n    const [searchState, setSearchState] = useState(false);\r\n    const fromHome = from === \"home\" ? true : false\r\n\r\n    const onChange = (e) => {\r\n      setSearchWord(e.target.value)      \r\n    }\r\n\r\n    const onClick = () => {\r\n      setSearchState(!searchState)\r\n    }\r\n    return (\r\n      <>\r\n      {searchState ? \r\n        <Container>\r\n        <Title>찾으시는 {fromHome ? \"답변\" : \"질문\"}이 있나요?</Title>\r\n        <SearchContainer>\r\n          <SearchInput onChange={onChange} value={searchWord} />\r\n          {from === \"home\" && <SearchSubmit onClick={onSearch}>검색하기</SearchSubmit>}\r\n        </SearchContainer>\r\n        <CloseBtn onClick={onClick}><FontAwesomeIcon icon={faTimes} size=\"lg\" /></CloseBtn>\r\n      </Container>\r\n      : <SearchBtn onClick={onClick}>\r\n          <FontAwesomeIcon icon={faSearch} />\r\n          <SearchBtnLabel>\r\n          {fromHome ? \"답변\" : \"질문\"} 찾기\r\n          </SearchBtnLabel>\r\n        </SearchBtn>\r\n      }\r\n      </>\r\n    );\r\n}\r\n  \r\nexport default Search;\r\n  ","import { faDice, faPlusCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport styled, { keyframes } from \"styled-components\";\r\nimport Answer from \"../components/Answer\";\r\nimport Cheer from \"../components/Cheer\";\r\nimport Loading from \"../components/Loading\";\r\nimport Search from \"../components/Search\";\r\nimport { dbService } from \"../fBase\";\r\n\r\nconst Container = styled.div`\r\n  padding: 40px 0;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  background-color: var(--main-color);\r\n`;\r\n\r\nconst RandomBtn = styled.button`\r\n    margin-bottom: 10px;\r\n    font-size: 0.8rem;\r\n    border-radius: 15px;\r\n    padding: 5px 10px;\r\n    border: 1px solid rgba(255,255,255,0.5);\r\n    color: white;\r\n    background-color: transparent;\r\n    font-family: Kyobo Handwriting;\r\n    transition: 0.5s all ease-in-out;\r\n    :hover {\r\n        cursor: pointer;\r\n        border: 1px solid var(--gold);\r\n        color: var(--gold);\r\n    }\r\n`;\r\n\r\nconst AddBtn = styled.button`\r\n    background-color: transparent;\r\n    border: 0;\r\n    color: white;\r\n    opacity: 0.7;\r\n    padding: 15px 0;\r\n    :hover {\r\n        cursor: pointer;\r\n    }\r\n    :active {\r\n        transform: scale(0.98);\r\n    }\r\n`;\r\n\r\nconst LastAnswer = styled.div`\r\n    color: white;\r\n    font-size: 0.8rem;\r\n    padding: 15px 0;\r\n`;\r\n\r\nconst DiceContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n`;\r\n\r\nconst Dice = styled.div``;\r\n\r\nconst Notice = styled.span`\r\n  font-size: 0.8rem;\r\n  display: flex;\r\n  font-family: Kyobo Handwriting;\r\n`;\r\n\r\nconst DotBlink = keyframes`\r\n    0% {\r\n        opacity: 0%;\r\n    }\r\n    20% {\r\n        opacity: 0%;\r\n    }\r\n    40% {\r\n        opacity: 100%;\r\n    }\r\n    60% {\r\n        opacity: 100%;\r\n    }\r\n    80% {\r\n        opacity: 100%;\r\n    }\r\n    100% {\r\n        opacity: 100%\r\n    }\r\n`;\r\n\r\nconst Dot = styled.div`\r\n    animation: ${DotBlink} 0.9s infinite;\r\n    :nth-child(2) {\r\n        animation-delay: 0.3s;\r\n    }\r\n    :last-child {\r\n        animation-delay: 6s;\r\n    }\r\n`;\r\n\r\nconst Home = ({ userObj, answerCount, refreshFriends }) => {\r\n  const [isLoading, setISLoading] = useState(true);\r\n  const [answers, setAnswers] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const [diceState, setDiceState] = useState(false);\r\n  const [randomState, setRandomState] = useState(true);\r\n  const [searchWord, setSearchWord] = useState('');\r\n\r\n  const currentPosts = (posts) => {\r\n    let currentPosts = 0;\r\n    currentPosts = posts.slice(0, currentPage * 5)\r\n    return currentPosts\r\n  }\r\n\r\n  const makeRandArray = () => {\r\n    let randArray = [];\r\n    for (let i = 0; i < 5; i++) {\r\n      randArray[i] = Math.floor(Math.random() * answerCount);\r\n      for (let l = 0; l < i; l++) {\r\n        if(randArray[i] === randArray[l]) {\r\n          i--;\r\n          break;\r\n        };\r\n      };\r\n    };\r\n    return randArray;\r\n  };\r\n\r\n  const getData = () => {\r\n    if (randomState) {\r\n      setDiceState(true);\r\n      setTimeout(() => {\r\n        const randArray = makeRandArray();\r\n        dbService.collection(\"answers\").where(\"isPrivate\", \"==\", false).where(\"index\", \"in\", randArray).onSnapshot(snapshot => {\r\n          const answerArray = snapshot.docs.map(doc => ({\r\n            id:doc.answerId,\r\n            ...doc.data(),\r\n          }));\r\n          answerArray.sort((a, b) => {\r\n            if(a.createdAt > b.createdAt) return -1;\r\n            if(a.createdAt === b.createdAt) return 0;\r\n            if(a.createdAt < b.createdAt) return 1;\r\n          });\r\n          setAnswers(answerArray)\r\n          if (isLoading) {\r\n            setISLoading(false)\r\n          }\r\n        });\r\n        setDiceState(false);\r\n      }, 1500)\r\n    }\r\n    else {\r\n      dbService.collection(\"answers\").where(\"isPrivate\", \"==\", false).orderBy(\"createdAt\").limitToLast(currentPage*5 + 10).onSnapshot(snapshot => {\r\n        const answerArray = snapshot.docs.map(doc => ({\r\n          id:doc.answerId,\r\n          ...doc.data(),\r\n        }));\r\n        answerArray.sort((a, b) => {\r\n          if(a.createdAt > b.createdAt) return -1;\r\n          if(a.createdAt === b.createdAt) return 0;\r\n          if(a.createdAt < b.createdAt) return 1;\r\n        });\r\n        setAnswers(answerArray)\r\n        if (isLoading) {\r\n          setISLoading(false)\r\n        }\r\n      });\r\n    };\r\n  };\r\n\r\n  const addBtn = e => {\r\n    if (currentPage*5 >= answers.length | randomState) {\r\n      getData();\r\n    }\r\n    if (!randomState) {\r\n      setCurrentPage(currentPage + 1)\r\n    }\r\n  }\r\n\r\n  const onToggleRandom = e => {\r\n    if (randomState) {\r\n      getData();\r\n    };\r\n    setRandomState(!randomState);\r\n  };\r\n\r\n  const onSearch = async (e) => {\r\n    await dbService.collection(\"answers\").where(\"isPrivate\", \"==\", false).where(\"answer\", \"array-contains\", searchWord).get()\r\n    .then(snapshot => {\r\n      console.log(snapshot.docs)\r\n      const answerArray = snapshot.docs.map(doc => ({\r\n        id:doc.answerId,\r\n        ...doc.data(),\r\n      }));\r\n      answerArray.sort((a, b) => {\r\n        if(a.createdAt > b.createdAt) return -1;\r\n        if(a.createdAt === b.createdAt) return 0;\r\n        if(a.createdAt < b.createdAt) return 1;\r\n      });\r\n      setAnswers(answerArray)\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, []);\r\n\r\n    return (\r\n      <Container>\r\n        {isLoading \r\n        ? <Loading />\r\n        : (\r\n          <>\r\n            <Cheer />\r\n            {searchWord}\r\n            <RandomBtn onClick={onToggleRandom}>\r\n              {randomState ? \"목록으로 보기\" : \"랜덤으로 보기\"}\r\n            </RandomBtn>\r\n            {answers && currentPosts(answers).map(answer => (\r\n              <Answer key={answer.answerId} userObj={userObj} answer={answer} refreshFriends={refreshFriends} />\r\n            ))\r\n            }\r\n            {(answers.length < 5 | currentPage*5 <= answers.length | randomState)\r\n            ?\r\n            <AddBtn onClick={addBtn}>\r\n              {randomState \r\n              ? \r\n              <DiceContainer>\r\n                <Dice>\r\n                  <FontAwesomeIcon icon={faDice} size=\"2x\" />\r\n                </Dice>\r\n                {diceState && \r\n                  <Notice>주사위 굴리는 중\r\n                    <Dot>.</Dot><Dot>.</Dot><Dot>.</Dot>\r\n                  </Notice>}\r\n              </DiceContainer>\r\n              : <FontAwesomeIcon icon={faPlusCircle} size=\"2x\" />\r\n              }\r\n            </AddBtn>\r\n            : <LastAnswer>\r\n                    마지막 대답입니다.\r\n            </LastAnswer>\r\n            }\r\n            {/* {randomState && <Search onSearch={onSearch} from=\"home\" searchWord={searchWord} setSearchWord={setSearchWord} />} */}\r\n          </>\r\n        )\r\n        }\r\n      </Container>\r\n    );\r\n  }\r\n  \r\n  export default Home;\r\n  ","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useSpring, animated } from \"react-spring\";\r\nimport { authService } from \"../fBase\";\r\nimport { useState } from \"react\";\r\nimport { config } from \"@fortawesome/fontawesome-svg-core\";\r\nimport { PaperAirplaneIcon } from \"@heroicons/react/outline\"\r\n\r\n\r\nconst Container = styled(animated.div)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  z-index: 9;\r\n`;\r\n\r\nconst AuthConatiner = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n`;\r\n\r\nconst LoginContainer = styled.div`\r\n  display: flex;\r\n  margin-bottom: 10px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: white;\r\n  transition: 0.5s all ease-in-out;\r\n  :focus-within {\r\n    color: var(--gold);\r\n  }\r\n`;\r\n\r\nconst LoginLabel = styled.label`\r\n  width: 70px;\r\n  margin-right: 5px;\r\n`;\r\n\r\nconst LoginInput = styled.input`\r\n    transition: 0.3s all ease-in-out;\r\n    :focus {\r\n      border-radius: 10px;\r\n    }    \r\n`;\r\n\r\nconst LoginBtn = styled.button`\r\n  color: var(--gold);\r\n  background-color: transparent;\r\n  border: 1px solid var(--gold);\r\n  padding : 3px 10px;\r\n  border-radius: 10px;\r\n  margin-top: 10px;\r\n  font-size: 0.8rem;\r\n  font-family: Kyobo Handwriting;\r\n  transition: 0.5s all ease-in-out;\r\n    :hover {\r\n        cursor: pointer;\r\n        border: 1px solid white;\r\n        color: white;\r\n    }\r\n    :active {\r\n      transform: scale(0.9);\r\n    }\r\n`;\r\n\r\nconst PasswordContainer = styled.div`\r\n  color: white;\r\n  transition: 0.5s all ease-in-out;\r\n  :focus-within {\r\n    color: var(--gold);\r\n  }\r\n`;\r\n\r\nconst PasswordLabel = styled.label`\r\n  width: 70px;\r\n  margin-right: 5px;\r\n`;\r\n\r\nconst PasswordInput = styled.input`\r\n    transition: 0.3s all ease-in-out;\r\n    :focus {\r\n      border-radius: 10px;\r\n    }   \r\n`;\r\n\r\nconst PasswordBtn = styled.div`\r\n  color: white;\r\n  opacity: 70%;\r\n  padding: 5px;\r\n  margin-bottom: 10px;\r\n  font-size: 0.7rem;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst Error = styled(animated.span)`\r\n  display: flex;\r\n  text-align: center;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 5px;\r\n  color: var(--gold);\r\n  word-break: keep-all;\r\n  width: 80%;\r\n  font-size: 0.7rem;\r\n`;\r\n\r\nconst Login = ({setCodeState, codeState}) => {\r\n  const [code, setCode] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await authService.signInWithEmailAndPassword(\r\n      code, codeState ? password : code) \r\n      setCode(\"\");\r\n    } catch (error) {\r\n      if (error.message === \"The email address is badly formatted.\") {\r\n        setError(\"코드를 확인해주세요.\")\r\n      } else if (error.message === \"There is no user record corresponding to this identifier. The user may have been deleted.\") {\r\n        setError(\"정확한 코드를 입력했는지 확인해주세요.\")\r\n      }\r\n      else {\r\n        setError(error.message)\r\n      }\r\n    }\r\n  }\r\n\r\n  const onChange = e => {\r\n    setCode(e.target.value)\r\n  }\r\n\r\n  const onChangePassword = e => {\r\n    setPassword(e.target.value)\r\n  }\r\n\r\n  const animation = useSpring({\r\n      from : {\r\n          opacity : 0\r\n      },\r\n      to: {\r\n          opacity: 1\r\n      },\r\n      config: config.gentle\r\n  })\r\n\r\n  const errorAni = useSpring({\r\n    opacity: error ? 1 : 0,\r\n    config: config.gentle\r\n  })\r\n\r\n  return (\r\n    <Container style={animation}>\r\n      <PasswordBtn onClick={() => {\r\n        setCodeState(!codeState)\r\n      }}>\r\n        {codeState \r\n        ? \"저는 비밀번호가 없습니다\" \r\n        : \"저는 비밀번호가 있습니다\"\r\n        }\r\n      </PasswordBtn>\r\n      <AuthConatiner>\r\n      <LoginContainer>\r\n        <LoginLabel style={{width: !codeState && \"auto\"}}>Code :</LoginLabel>\r\n        <LoginInput onChange={onChange} value={code} type=\"text\" />\r\n      </LoginContainer>\r\n      {codeState && \r\n        <PasswordContainer>\r\n          <PasswordLabel>Password :</PasswordLabel>\r\n          <PasswordInput value={password} onChange={onChangePassword} type=\"password\" />\r\n        </PasswordContainer>\r\n      }\r\n      </AuthConatiner>\r\n      <Error style={errorAni}>{error}</Error>\r\n      {code && \r\n      <LoginBtn onClick={onSubmit}>\r\n          들어가기\r\n      </LoginBtn>}\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n  ","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { animated, useSpring } from \"react-spring\";\r\nimport Login from \"../components/Login\";\r\nimport { config } from \"@fortawesome/fontawesome-svg-core\";\r\n\r\nconst Container = styled.div`\r\n  background-color: black;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 100vh;\r\n`;\r\n\r\nconst Background = styled.div`\r\n  position: fixed;\r\n  width: 100%;\r\n  height: 100vh;\r\n  z-index: 0;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst Title = styled(animated.h1)`\r\n  position: absolute;\r\n  color: white;\r\n  margin-bottom: 20px;\r\n  font-size: 1.5rem;\r\n  font-family: Jeju Myeongjo;\r\n  z-index: 9;\r\n`;\r\n\r\nconst AuthBox = styled.div`\r\n  background-color: black;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin: 10px;\r\n  width: 100%;\r\n  z-index: 5;\r\n`;\r\n\r\nconst Notice = styled.span`\r\n  color: var(--gold);\r\n  margin-bottom: 15px;\r\n  font-size: 0.9rem;\r\n  z-index: 9;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst Welcome = styled(animated.div)`\r\n  color: white;\r\n  font-size: 0.9rem;\r\n  opacity: 0;\r\n  transition: 1s all ease-in-out;\r\n`;\r\n\r\nconst Auth = () => {\r\n    const [authState, setAuthState] = useState(false);\r\n    const [codeState, setCodeState] = useState(false);\r\n\r\n    const animation = useSpring({\r\n      top: authState ? \"20vh\" : \"35vh\",\r\n      config: config.molasses\r\n    })\r\n\r\n    const welcomeAni = useSpring({\r\n      opacity: !authState && 1,\r\n      config: config.molasses\r\n    })\r\n\r\n    const onClick = () => {\r\n      setAuthState(!authState)\r\n    }\r\n\r\n    return (\r\n      <Container>\r\n        <Background onClick={onClick} />\r\n        <Title style={animation}>누군가의 서랍장</Title>\r\n        {authState \r\n        ? (\r\n        <AuthBox>\r\n        <Notice onClick={() => {setCodeState(!codeState)}}>코드를 입력해주세요.</Notice>\r\n        <Login setCodeState={setCodeState} codeState={codeState} />\r\n        </AuthBox>\r\n        ) : <Welcome style={welcomeAni}>입장하시려면 터치해주세요.</Welcome>}\r\n      </Container>\r\n    );\r\n  }\r\n  \r\n  export default Auth;\r\n  ","import { faPlusCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Answer from \"../components/Answer\";\r\nimport Loading from \"../components/Loading\";\r\nimport { dbService } from \"../fBase\";\r\n\r\nconst Container = styled.div`\r\n    display: flex;\r\n    padding-top: 30px;\r\n    flex-direction: column;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    height: 100%;\r\n    width: 100%;\r\n    margin-top: 20px;\r\n    box-sizing: border-box;\r\n`;\r\n\r\nconst Title = styled.div`\r\n    margin: 20px;\r\n    display: flex;\r\n    color: white;\r\n    font-size: 1.5rem;\r\n    font-family: Kyobo Handwriting;\r\n    flex-direction: column;\r\n`;\r\n\r\nconst AddBtn = styled.button`\r\n    background-color: transparent;\r\n    border: 0;\r\n    color: white;\r\n    opacity: 0.7;\r\n    padding: 15px 0;\r\n    :hover {\r\n        cursor: pointer;\r\n    }\r\n    :active {\r\n        transform: scale(0.98);\r\n    }\r\n`;\r\n\r\nconst LastAnswer = styled.div`\r\n    color: white;\r\n    font-size: 0.7rem;\r\n    padding: 15px 0;\r\n`;\r\n\r\nconst MyAnswers = ({userObj}) => {\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [myAnswers, setMyAnswers] = useState(null);\r\n    const [currentPage, setCurrentPage] = useState(1)\r\n\r\n    const currentPosts = (posts) => {\r\n        let currentPosts = 0;\r\n        currentPosts = posts.slice(0, currentPage * 5)\r\n        return currentPosts\r\n      }\r\n\r\n      const addPage = () => {\r\n        if (currentPage*5 >= myAnswers.length) {\r\n            getMyAnswers();\r\n          }\r\n        setCurrentPage(currentPage + 1)\r\n    }\r\n\r\n    const getMyAnswers = async () => {\r\n        await dbService.collection(\"answers\").where(\"userId\", \"==\", `${userObj.uid}`).orderBy(\"createdAt\").limitToLast(currentPage*5 + 10).get()\r\n        .then(snapshot => {\r\n            const myAnswerArray = snapshot.docs.map(doc => ({\r\n                id: doc.answerId,\r\n                ...doc.data()    \r\n            }))\r\n            myAnswerArray.sort((a, b) => {\r\n                if(a.createdAt > b.createdAt) return -1;\r\n                if(a.createdAt === b.createdAt) return 0;\r\n                if(a.createdAt < b.createdAt) return 1;\r\n              });\r\n            setMyAnswers(myAnswerArray)\r\n            setIsLoading(!isLoading)\r\n        })\r\n    }\r\n\r\n    useEffect(()=>{\r\n        getMyAnswers();\r\n    }, [])\r\n\r\n    return (\r\n        <Container>\r\n            {isLoading \r\n            ? <Loading />\r\n            : ( \r\n            <>\r\n                <Title>\r\n                    나만의 서랍장\r\n                </Title>\r\n                {currentPosts(myAnswers).map(myAnswer => <Answer key={myAnswer.answerId} answer={myAnswer} userObj={userObj}/>)}\r\n                {currentPage*5 <= myAnswers.length \r\n                ?\r\n                <AddBtn onClick={addPage}>\r\n                    <FontAwesomeIcon icon={faPlusCircle} size=\"2x\" />\r\n                </AddBtn>\r\n                : <LastAnswer>\r\n                    마지막 대답입니다.\r\n                </LastAnswer>\r\n                }\r\n            </>\r\n            )}\r\n        </Container>\r\n    );\r\n  }\r\n  \r\n  export default MyAnswers;\r\n  ","import { faPlusCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport Answer from \"../components/Answer\";\r\nimport Loading from \"../components/Loading\";\r\nimport { dbService } from \"../fBase\";\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  padding-top: 30px;\r\n`;\r\n\r\nconst Question = styled.div`\r\n  font-size: 18px;\r\n  word-break: keep-all;\r\n  text-align: center;\r\n  line-height: 25px;\r\n  width: 70%;\r\n  color: white;\r\n  font-family: Jeju myeongjo;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst AddBtn = styled.button`\r\n    background-color: transparent;\r\n    border: 0;\r\n    color: white;\r\n    opacity: 0.7;\r\n    padding: 15px 0;\r\n    :hover {\r\n        cursor: pointer;\r\n    }\r\n    :active {\r\n        transform: scale(0.98);\r\n    }\r\n`;\r\n\r\nconst LastAnswer = styled.div`\r\n    color: white;\r\n    font-size: 12px;\r\n    padding: 15px 0;\r\n`;\r\n\r\nconst QuestionDetail = ({userObj, refreshFriends}) => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [answers, setAnswers] = useState([]);\r\n  const { id } = useParams();\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n\r\n  const currentPosts = (posts) => {\r\n      let currentPosts = 0;\r\n      currentPosts = posts.slice(0, currentPage * 5)\r\n      return currentPosts\r\n    }\r\n\r\n    const addPage = () => {\r\n      if (currentPage*5 >= answers.length) {\r\n        getAnswers();\r\n      }\r\n      setCurrentPage(currentPage + 1)\r\n  }\r\n\r\n  const getAnswers = async () => {\r\n    await dbService.collection(\"answers\").where(\"isPrivate\", \"==\", false).where(\"questionId\", \"==\", `${id}`).orderBy(\"createdAt\").limitToLast(currentPage*5 + 10).get()\r\n    .then(snapShot => {\r\n      const answerData = snapShot.docs.map(doc => ({\r\n        ...doc.data()\r\n      }))\r\n      answerData.sort((a, b) => {\r\n        if(a.createdAt > b.createdAt) return -1;\r\n        if(a.createdAt === b.createdAt) return 0;\r\n        if(a.createdAt < b.createdAt) return 1;\r\n      });\r\n      setAnswers(answerData)\r\n      setIsLoading(false);\r\n    }\r\n    )\r\n  }\r\n\r\n  useEffect(() => {\r\n    getAnswers();\r\n  }, [])\r\n\r\n  return (\r\n    <Container>\r\n      {isLoading \r\n      ? <Loading />\r\n      :\r\n      <>\r\n      <Question>{answers[0].question}</Question>\r\n      {currentPosts(answers).map(answer => <Answer answer={answer} userObj={userObj} refreshFriends={refreshFriends} />)}\r\n      {currentPage*5 <= answers.length \r\n      ?\r\n      <AddBtn onClick={addPage}>\r\n          <FontAwesomeIcon icon={faPlusCircle} size=\"2x\" />\r\n      </AddBtn>\r\n      : <LastAnswer>\r\n          마지막 대답입니다.\r\n      </LastAnswer>\r\n      }\r\n      </>\r\n      }\r\n    </Container>\r\n  );\r\n  }\r\n\r\n  export default QuestionDetail;\r\n    ","import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { authService, dbService } from \"../fBase\";\r\nimport { v4 as uuidv4} from \"uuid\";\r\n\r\nconst Container = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    height: 100vh;\r\n    color: white;\r\n`;\r\n\r\nconst QuestionContainer = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin: 10px;\r\n`;\r\n\r\nconst CheerContainer = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin: 10px;\r\n`;\r\n\r\nconst QuestionName = styled.h3`\r\n    margin-bottom: 20px;\r\n    font-size: 18px;\r\n`;\r\n\r\nconst QuestionForm = styled.form`\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\n\r\nconst QuestionInput = styled.input`\r\n`;\r\n\r\nconst Submit = styled.button`\r\n`;\r\n\r\nconst CheerName = styled.h3`\r\n    margin-bottom: 20px;\r\n    font-size: 18px;\r\n`;\r\n\r\nconst CheerForm = styled.form`\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\n\r\nconst CheerInput = styled.input`\r\n`;\r\n\r\nconst CodeContainer = styled.div`\r\n    margin-top: 20px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n`;\r\n\r\nconst CodeInput = styled.input``;\r\n\r\nconst CodeBtn = styled.button``;\r\n\r\nconst CodeDiv = styled.div`\r\n    margin-top: 10px;\r\n`;\r\n\r\nconst QuestionRegister = ({userObj}) => {\r\n    const [questionName, setQuestionName] = useState('');\r\n    const [cheerName, setCheerName] = useState('');\r\n    const [code, setCode] = useState(\"\");\r\n    const [specific, setSpecific] = useState('');\r\n\r\n    const onChange = (e) => {\r\n        setQuestionName(e.target.value);\r\n    }\r\n\r\n    const onChangeCode = e => {\r\n        setSpecific(e.target.value);\r\n    }\r\n\r\n    const onChangeCheer = (e) => {\r\n        setCheerName(e.target.value)\r\n    }\r\n\r\n    const onSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (questionName) {\r\n            const questionId = uuidv4();\r\n            const question = questionName;\r\n            const questionObj = {\r\n                question,\r\n                questionId,\r\n                answerUsers: [],\r\n                publicAnswer: [],\r\n            }\r\n            await dbService.collection(\"questions\").doc(question).set(questionObj)\r\n            setQuestionName(\"\");\r\n        }\r\n    }\r\n\r\n    const onSubmitCheer = async (e) => {\r\n        e.preventDefault();\r\n        if (cheerName) {\r\n            const cheerId = uuidv4();\r\n            const cheer = cheerName;\r\n            const cheerObj = {\r\n                cheer,\r\n                cheerId,\r\n            }\r\n            await dbService.collection(\"cheers\").doc(cheerName).set(cheerObj)\r\n            setCheerName(\"\");\r\n        }\r\n    }\r\n\r\n    const makeCode = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz'\r\n        const stringLength = 6\r\n        let randomstring = ''\r\n\r\n        if (specific) {\r\n            randomstring = specific;\r\n        } else {\r\n            for (let i = 0; i < stringLength; i++) {\r\n                const rnum = Math.floor(Math.random() * chars.length)\r\n                randomstring += chars.substring(rnum, rnum + 1)\r\n            }\r\n        };\r\n\r\n        await authService.createUserWithEmailAndPassword(\r\n            `${randomstring}@drawer.book`, \r\n            `${randomstring}@drawer.book`)\r\n        .then(async (data) => {\r\n            const newUserObj = {\r\n                uid: data.user.uid,\r\n                displayName: \"익명\",\r\n                isPassword: false,\r\n                initCode: `${randomstring}@drawer.book`,\r\n                friends: [],\r\n                token: \"\",\r\n            }\r\n            await dbService.collection(\"users\").doc(`${data.user.uid}`).set(newUserObj).then(alert(\"성공했습니다.\"))\r\n        })\r\n        setCode(`${randomstring}@drawer.book`)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (userObj.uid !== \"oaQ2Ruq5mVZbFDb9t5E2fukKhox2\") {\r\n            authService.signOut();\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <Container>\r\n            <QuestionContainer>\r\n                <QuestionName>\r\n                    무슨 질문을 추가하실 건가요?\r\n                </QuestionName>\r\n                <QuestionForm>\r\n                    <QuestionInput onChange={onChange} value={questionName} type=\"text\" />\r\n                    <Submit onClick={onSubmit}>추가하기</Submit>\r\n                </QuestionForm>\r\n            </QuestionContainer>\r\n            <CheerContainer>\r\n                <CheerName>\r\n                    무슨 응원을 추가하실 건가요?\r\n                </CheerName>\r\n                <CheerForm>\r\n                    <CheerInput onChange={onChangeCheer} value={cheerName} type=\"text\" />\r\n                    <Submit onClick={onSubmitCheer}>추가하기</Submit>\r\n                </CheerForm>\r\n            </CheerContainer>\r\n            <CodeContainer>\r\n                <QuestionName>\r\n                    코드 생성기\r\n                </QuestionName>\r\n                <CodeInput onChange={onChangeCode} value={specific} type=\"text\"/>\r\n                <CodeBtn onClick={makeCode}>생성하기</CodeBtn>\r\n                <CodeDiv>{code && code}</CodeDiv>\r\n            </CodeContainer>\r\n        </Container>\r\n    );\r\n}\r\n  \r\nexport default QuestionRegister;\r\n  ","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { dbService, firebaseInstance } from \"../fBase\";\r\nimport { v4 as uuidv4} from \"uuid\";\r\nimport { PaperAirplaneIcon } from \"@heroicons/react/outline\"\r\n\r\nconst Container = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 90%;\r\n    padding: 20px;\r\n    box-sizing: border-box;\r\n    border: 1px solid black;\r\n    box-shadow: 5px 5px 10px 0px rgba(0,0,0,0.75);\r\n    -webkit-box-shadow: 5px 5px 10px 0px rgba(0,0,0,0.75);\r\n    -moz-box-shadow: 5px 5px 10px 0px rgba(0,0,0,0.75);\r\n    color: white;\r\n    border-radius: 10px;\r\n    background-color: var(--main-color);\r\n    margin: 10px;\r\n    :focus-within {\r\n        color: var(--gold);\r\n    }\r\n`;\r\n\r\nconst Title = styled.div`\r\n    display: flex;\r\n    transition: 0.3s all ease-in-out;\r\n    margin-bottom: 20px;\r\n    line-height: 25px;\r\n    justify-content: center;\r\n    align-items: center;\r\n    text-align: center;\r\n    word-break: keep-all;\r\n    font-family: Jeju Myeongjo;\r\n    font-size: 0.9rem;\r\n    :hover {\r\n        cursor: pointer;\r\n    }\r\n`;\r\n\r\nconst AnswerContainer = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin-bottom: 15px;\r\n    width: 80%;\r\n`;\r\n\r\nconst AnswerInput = styled.input`\r\n    padding: 4px 7px;\r\n    transition: 0.3s all ease-in-out;\r\n    font-family: Jeju Myeongjo;\r\n    :focus {\r\n      border-radius: 10px;\r\n    }    \r\n`;\r\n\r\nconst AnswerTextarea = styled.textarea`\r\n    width: 100%;\r\n    min-height: 100px;\r\n    font-family: Jeju Myeongjo;\r\n    padding: 5px;\r\n    line-height: 160%;\r\n`;\r\n\r\nconst PrivateLabel = styled.label`\r\n    transition: 0.3s all ease-in-out;\r\n    font-size: 0.7rem;\r\n    margin-right: 5px;\r\n`;\r\n\r\nconst AnswerBtn = styled.div`\r\n    margin-left: 5px;\r\n    width: 20px;\r\n    height: 20px;\r\n    transform: rotateZ(45deg);\r\n    :hover {\r\n        cursor: pointer;\r\n    }\r\n    :active {\r\n        background-color: var(--main-color);\r\n        transform: scale(0.9) rotateZ(45deg);\r\n    }\r\n`;\r\n\r\nconst Question = ({userObj, question, answerCount}) => {\r\n    const history = useHistory();\r\n    const [isPrivate, setIsPrivate] = useState(false);\r\n    const [answer, setAnswer] = useState('');\r\n    const [longAnswer, setLongAnswer] = useState(false);\r\n\r\n    const onClickQuestion = (e) => {\r\n        history.push({\r\n            pathname: `/question/${e.target.getAttribute('name')}`,\r\n        })\r\n    }\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault()\r\n        if (answer) {\r\n            const answerId = uuidv4();\r\n            const answerObj = {\r\n            question: question.question,\r\n            questionId: question.questionId,\r\n            userId: userObj.uid,\r\n            userName: userObj.displayName,\r\n            answerId,\r\n            answer,\r\n            createdAt: Date.now(),\r\n            editedAt: null,\r\n            isPrivate,\r\n            index: answerCount,\r\n        }\r\n        dbService.collection(\"answers\").doc(`${answerId}`).set(answerObj).then(async () => {\r\n            await dbService.collection(\"main\").doc(\"counts\").update({\r\n                answers: firebaseInstance.firestore.FieldValue.increment(1)\r\n            })\r\n            alert(\"답변이 저장되었습니다 :)\")\r\n        }\r\n        ).catch((error) => {\r\n            console.error(\"Submit Error : \", error)\r\n        });\r\n        setAnswer(\"\");}\r\n    }\r\n\r\n    const onChange = (e) => {\r\n        const answerValue = e.target.value\r\n        setAnswer(answerValue)\r\n    }\r\n\r\n    const onChangeCheckbox = () => {\r\n        setIsPrivate(!isPrivate)\r\n    }\r\n\r\n    const onChangeAnswerType = () => {\r\n        setLongAnswer(!longAnswer)\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Title onClick={onClickQuestion} name={question.questionId}>\r\n                {question.question}\r\n            </Title>\r\n            <AnswerContainer>\r\n                {longAnswer \r\n                ? ( <AnswerTextarea onChange={onChange} value={answer} name={question.question} autoFocus />\r\n                ) : (\r\n                <AnswerInput onChange={onChange} value={answer} name={question.question} type=\"text\" />\r\n                )}\r\n                <AnswerBtn onClick={onSubmit}>\r\n                    <PaperAirplaneIcon />\r\n                </AnswerBtn>\r\n            </AnswerContainer>\r\n            <AnswerContainer style={{marginBottom: \"0\"}}>\r\n                <AnswerInput onChange={onChangeAnswerType} type=\"checkbox\"/>\r\n                <PrivateLabel>길게 쓰기</PrivateLabel>\r\n                <AnswerInput onChange={onChangeCheckbox} type=\"checkbox\" />\r\n                <PrivateLabel>답변 비공개하기</PrivateLabel>\r\n            </AnswerContainer>\r\n        </Container>\r\n    );\r\n  }\r\n  \r\n  export default Question;\r\n  ","import { faPlusCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Loading from \"../components/Loading\";\r\nimport Question from \"../components/Question\";\r\nimport Search from \"../components/Search\";\r\n\r\nconst Container = styled.div`\r\n    padding-top: 30px;\r\n    display: flex;\r\n    width: 100%;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin-top: 20px;\r\n`;\r\n\r\nconst AddBtn = styled.button`\r\n    background-color: transparent;\r\n    border: 0;\r\n    color: white;\r\n    opacity: 0.7;\r\n    margin: 15px;\r\n    :hover {\r\n        cursor: pointer;\r\n    }\r\n    :active {\r\n        transform: scale(0.98);\r\n    }\r\n`;\r\n\r\nconst LastQuestion = styled.div`\r\n    color: white;\r\n    font-size: 12px;\r\n    padding: 15px 0;\r\n`;\r\n\r\nconst Questions = ({questionArray, userObj, answerCount}) => {\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [questions, setQuestions] = useState([]);\r\n    const [searchWord, setSearchWord] = useState(\"\");\r\n    const [currentPage, setCurrentPage] = useState(1)\r\n\r\n    const currentPosts = (posts) => {\r\n      let currentPosts = 0;\r\n      currentPosts = posts.slice(0, currentPage * 5)\r\n      return currentPosts\r\n    }\r\n  \r\n    const getQuestions = async () => {\r\n    //     await dbService.collection(\"questions\").get()\r\n    //     .then(querySnapshot => {\r\n    //         const questionArray = querySnapshot.docs.map(doc => ({\r\n    //             id: doc.questionId,\r\n    //             ...doc.data()\r\n    //         }))\r\n            setQuestions(questionArray.sort(() => Math.random() - 0.5))\r\n            setIsLoading(!isLoading)\r\n    //     })\r\n    }\r\n\r\n    const addPage = e => {\r\n        setCurrentPage(currentPage + 1)\r\n    }\r\n\r\n    useEffect(() => {\r\n        getQuestions();\r\n    }, [])\r\n\r\n    return (\r\n        <Container>\r\n            {isLoading\r\n            ? <Loading />\r\n            : (\r\n            <>\r\n                {currentPosts(questions.filter(question => question.question.includes(searchWord))).map(question => <Question key={question.questionId} userObj={userObj} question={question} answerCount={answerCount} /> )}\r\n                <Search from=\"question\" searchWord={searchWord} setSearchWord={setSearchWord} />\r\n                {currentPage*5 <= questions.length \r\n                ?\r\n                <AddBtn onClick={addPage}>\r\n                    <FontAwesomeIcon icon={faPlusCircle} size=\"2x\" />\r\n                </AddBtn>\r\n                : <LastQuestion>\r\n                    마지막 질문입니다.\r\n                </LastQuestion>\r\n                }\r\n            </>\r\n            )}\r\n        </Container>\r\n    );\r\n  }\r\n  \r\n  export default Questions;\r\n  ","import { faBars, faChevronLeft, faChevronRight, faChevronUp, faCog, faDoorOpen, faEdit, faHome, faInbox, faQuestion, faUserFriends } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { useSpring, animated, config } from \"react-spring\"\r\nimport { authService } from \"../fBase\";\r\n\r\nconst Container = styled(animated.div)`\r\n    position: fixed;\r\n    top: 0;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    width: 100%;\r\n    height: auto;\r\n    z-index: 9;\r\n    box-sizing: border-box;\r\n    background-color: rgba(0,0,0, 0.5);\r\n`;\r\n\r\nconst NavComponent = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 50px;\r\n    color: white;\r\n    gap: 5px;\r\n    opacity: 1;\r\n    z-index: 9;\r\n    font-size: 1rem;\r\n    :hover {\r\n        cursor: pointer;\r\n    }\r\n`;\r\n\r\nconst NavTitle = styled.span`\r\n    font-size: 0.5rem;\r\n`;\r\n\r\nconst NavBtn = styled(animated.button)`\r\n    position: fixed;\r\n    top: 20px;\r\n    left: 15px;\r\n    background-color: transparent;\r\n    border: 0;\r\n    opacity: 1;\r\n    z-index: 9;\r\n    color: white;\r\n    font-family: sans-serif;\r\n    font-weight: bolder;\r\n    :hover {\r\n        cursor: pointer;\r\n    }\r\n`;\r\n\r\nconst NavCloseBtn = styled.div`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: transparent;\r\n    margin-right: 5%;\r\n    z-index: 9;\r\n    color: white;\r\n    :hover {\r\n        cursor: pointer;\r\n    }\r\n`;\r\n\r\nconst Navigation = () => {\r\n    const [navState, setNavState] = useState(false);\r\n\r\n    const animation = useSpring({\r\n        opacity : navState ? 1 : 0, \r\n        x: navState ? 0 : -10,\r\n        reverse: !navState,\r\n        config: config.default,\r\n    })\r\n\r\n    const reverseAnimation = useSpring({\r\n        opacity : navState ? 0 : 1, \r\n        x: navState ? -10 : 0,\r\n        reverse: navState,\r\n        config: config.default,\r\n    })\r\n\r\n    const onNavClick = () => {\r\n        setNavState(!navState)\r\n    }\r\n\r\n    return(\r\n        <>\r\n            {navState ?(\r\n            <Container style={animation}>\r\n                <Link to={\"/\"} style={{textDecoration: \"none\", marginLeft: \"5%\"}}>\r\n                    <NavComponent>\r\n                        <FontAwesomeIcon icon={faHome} />\r\n                        <NavTitle>홈</NavTitle>\r\n                    </NavComponent>\r\n                </Link>\r\n                <Link to={\"/questions\"} style={{textDecoration: \"none\"}}>\r\n                    <NavComponent>\r\n                    <FontAwesomeIcon icon={faEdit} />\r\n                    <NavTitle>답변쓰기</NavTitle>\r\n                    </NavComponent>\r\n                </Link>\r\n                <Link to={\"/myanswers\"} style={{textDecoration: \"none\"}}>\r\n                    <NavComponent>\r\n                    <FontAwesomeIcon icon={faInbox} />\r\n                    <NavTitle>나만의 서랍장</NavTitle>\r\n                    </NavComponent>\r\n                </Link> \r\n                <Link to={\"/community\"} style={{textDecoration: \"none\"}}>\r\n                    <NavComponent>\r\n                        <FontAwesomeIcon icon={faUserFriends} />\r\n                        <NavTitle>누군가의 서랍장</NavTitle>\r\n                    </NavComponent>\r\n                </Link> \r\n                <Link to={\"/settings\"} style={{textDecoration: \"none\"}}>\r\n                    <NavComponent>\r\n                        <FontAwesomeIcon icon={faCog} />\r\n                        <NavTitle>설정</NavTitle>\r\n                    </NavComponent>\r\n                </Link> \r\n                <NavCloseBtn style onClick={onNavClick}>\r\n                    <FontAwesomeIcon icon={faChevronLeft} />\r\n                </NavCloseBtn>\r\n            </Container>\r\n            ) : (\r\n            <NavBtn style={reverseAnimation} onClick={onNavClick}>\r\n                Menu<FontAwesomeIcon icon={faChevronRight} style={{marginLeft: \"5px\"}} />\r\n            </NavBtn>\r\n            )}\r\n        </>\r\n    )\r\n};\r\n\r\nexport default Navigation;","import React, { useState } from \"react\";\r\nimport { authService, dbService } from \"../fBase\";\r\nimport styled from \"styled-components\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nconst Container = styled.div`\r\n    display: flex;\r\n    padding: 40px 0;\r\n    flex-direction: column;\r\n    width: 90%;\r\n    justify-content: center;\r\n    align-items: center;\r\n    font-family: Kyobo Handwriting;\r\n`;\r\n\r\nconst ProfileContainer = styled.div`\r\n    border-radius: 10px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    height: auto;\r\n    padding: 20px 0px;\r\n    box-sizing: border-box;\r\n    transition: 1s all ease-in-out;\r\n    background-color: rgba(255,255,255,0.5);\r\n    margin-bottom: 20px;\r\n`;\r\n\r\nconst Title = styled.div`\r\n    margin: 20px;\r\n    display: flex;\r\n    color: white;\r\n    font-size: 1.5rem;\r\n    flex-direction: column;\r\n`;\r\n\r\nconst ProfileLabel = styled.label`\r\n    margin: 5px 0;\r\n    :hover {\r\n        cursor: pointer;\r\n    }\r\n`;\r\n\r\nconst ProfileForm = styled.form`\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n`;\r\n\r\nconst ProfileInput = styled.input`\r\n    font-family: Kyobo Handwriting;\r\n`;\r\n\r\nconst ProfileSubmitBtn = styled.input`\r\n    font-size: 0.6rem;\r\n    border-radius: 10px;\r\n    padding: 5px 10px;\r\n    border: 1px solid rgba(0,0,0,0.5);\r\n    color: black;\r\n    background-color: rgba(255,255,255,0.5);\r\n    font-family: Kyobo Handwriting;\r\n    margin-top: 5px;\r\n    :hover {\r\n        cursor: pointer;\r\n    }\r\n`;\r\n\r\nconst BtnContainer = styled.div`\r\n    display: flex;\r\n    gap: 10px;\r\n`;\r\n\r\nconst ManualBtn = styled.button`\r\n    margin-bottom: 10px;\r\n    font-size: 0.8rem;\r\n    border-radius: 15px;\r\n    padding: 5px 10px;\r\n    border: 1px solid rgba(255,255,255,0.5);\r\n    color: white;\r\n    background-color: transparent;\r\n    font-family: Kyobo Handwriting;\r\n    transition: 0.5s all ease-in-out;\r\n    :hover {\r\n        cursor: pointer;\r\n        border: 1px solid var(--gold);\r\n        color: var(--gold);\r\n    }\r\n`;\r\n\r\nconst CreditBtn = styled.button`\r\n    margin-bottom: 10px;\r\n    font-size: 0.8rem;\r\n    border-radius: 15px;\r\n    padding: 5px 10px;\r\n    border: 1px solid rgba(255,255,255,0.5);\r\n    color: white;\r\n    background-color: transparent;\r\n    font-family: Kyobo Handwriting;\r\n    transition: 0.5s all ease-in-out;\r\n    :hover {\r\n        cursor: pointer;\r\n        border: 1px solid var(--gold);\r\n        color: var(--gold);\r\n    }\r\n`;\r\n\r\nconst LogOutBtn = styled.button`\r\n    margin-top: 10px;\r\n    font-size: 0.8rem;\r\n    border-radius: 15px;\r\n    padding: 5px 10px;\r\n    border: 1px solid rgba(255,255,255,0.5);\r\n    color: white;\r\n    background-color: transparent;\r\n    font-family: Kyobo Handwriting;\r\n    :hover {\r\n        cursor: pointer;\r\n    }\r\n`;\r\n\r\nconst QnaContainer = styled.div`\r\n    border-radius: 10px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n    height: 200px;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: rgba(255,255,255,0.5);\r\n`;\r\n\r\nconst QnaLabel =styled.label`\r\n    margin-bottom: 10px;\r\n`;\r\n\r\nconst QnaInput = styled.textarea`\r\n    font-size: 0.8rem;\r\n    width: 70%;\r\n    height: 50px;\r\n`;\r\n\r\nconst QnaSubmitBtn = styled.button`\r\n    margin-top: 10px;\r\n    font-size: 0.8rem;\r\n    border-radius: 10px;\r\n    padding: 5px 10px;\r\n    border: 1px solid rgba(0,0,0,0.5);\r\n    color: black;\r\n    background-color: rgba(255,255,255,0.5);\r\n    font-family: Kyobo Handwriting;\r\n    :hover {\r\n        cursor: pointer;\r\n    }\r\n`;\r\n\r\nconst Settings = ({ refreshUser, userObj }) => {\r\n    const history = useHistory();\r\n    const [displayName, setDisplayName] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [report, setReport] = useState('');\r\n    const [nameState, setNameState] = useState(false);\r\n    const [emailState, setEmailState] = useState(false);\r\n    const [passwordState, setPasswordState] = useState(false);\r\n\r\n    const onClickCredit = e => {\r\n        history.push(\"/credit\");\r\n    }\r\n\r\n    const onClickManual = e => {\r\n        history.push('/manual');\r\n    }\r\n\r\n    const onChange = e => {\r\n        if (e.target.getAttribute(\"name\") === \"name\") {\r\n            setDisplayName(e.target.value)\r\n        }\r\n        if (e.target.getAttribute(\"name\") === \"email\") {\r\n            setEmail(e.target.value)\r\n        }\r\n        if (e.target.getAttribute(\"name\") === \"password\") {\r\n            setPassword(e.target.value)\r\n        }\r\n    }\r\n\r\n    const onChangeReport = e => {\r\n        setReport(e.target.value)\r\n    }\r\n\r\n    const onSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (displayName && userObj.displayname !== displayName) {\r\n            await dbService.collection(\"users\").doc(`${userObj.uid}`).update({\r\n                displayName: displayName\r\n            }).then(() => {\r\n                userObj.updateProfile({\r\n                    displayName\r\n                })\r\n                setTimeout(() => {\r\n                    refreshUser();\r\n                    alert(\"이름이 성공적으로 변경되었습니다 :)\")\r\n                })\r\n            })\r\n            setDisplayName(\"\");\r\n        };\r\n    };\r\n\r\n    const onSubmitEmail = async (e) => {\r\n        e.preventDefault();\r\n        if (window.confirm(`${email}로 로그인 코드를 변경할까요?`)) {\r\n        await authService.currentUser.updateEmail(email).then(()=>{\r\n            dbService.collection(\"users\").doc(`${userObj.uid}`).update({\r\n                isPassword: true\r\n            }).then(()=>{\r\n                alert(\"코드 변경에 성공했습니다.\", email)\r\n                refreshUser();\r\n                setEmail(\"\");\r\n            })\r\n        })}\r\n    }\r\n\r\n    const onSubmitPassword = async (e) => {\r\n        e.preventDefault();\r\n        if (window.confirm(\"비밀번호를 변경할까요?\")) \r\n        authService.currentUser.updatePassword(password).then(()=>{\r\n            alert(\"비밀번호 변경에 성공했습니다.\")\r\n            refreshUser();\r\n            setPassword(\"\");\r\n        })\r\n    }\r\n\r\n    const onReport = async e => {\r\n        e.preventDefault();\r\n        if (report) { \r\n            const reportObj = {\r\n            report,\r\n            userId : userObj.uid,\r\n            createdAt : Date.now()\r\n        }\r\n        dbService.collection(\"reports\").add(reportObj)\r\n        alert(\"성공적으로 제출되었습니다. 감사합니다 :)\")\r\n        setReport('');\r\n    }\r\n    }\r\n\r\n    const onClick = e =>{\r\n        e.preventDefault();\r\n        if (e.target.getAttribute(\"name\") === \"name\") {\r\n            setNameState(!nameState)\r\n        }\r\n        if (e.target.getAttribute(\"name\") === \"email\") {\r\n            setEmailState(!emailState)\r\n        }\r\n        if (e.target.getAttribute(\"name\") === \"password\") {\r\n            setPasswordState(!passwordState)\r\n        }\r\n    }\r\n    \r\n    const onLogOut = (e) => {\r\n        e.preventDefault();\r\n        authService.signOut();\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Title>\r\n                {userObj.displayName}의 서랍장\r\n            </Title>\r\n\r\n            <ProfileContainer>\r\n                {!(emailState | passwordState) && \r\n                <> \r\n                <ProfileLabel name=\"name\" onClick={onClick}>이름 바꾸기</ProfileLabel>\r\n                <hr style={{width:\"70%\", opacity:\"70%\"}} />\r\n                </>\r\n                }\r\n                {nameState &&\r\n                <ProfileForm onSubmit={onSubmit}>\r\n                    <ProfileInput required name=\"name\" onChange={onChange} value={displayName} type=\"text\" />\r\n                    <ProfileLabel style={{marginTop: \"5px\", fontSize:\"10px\", opacity: \"80%\"}}>이름을 바꿔도, 친구들은 이전 이름을 알 수 있습니다.</ProfileLabel>\r\n                    <ProfileSubmitBtn value=\"변경하기\" type=\"submit\" name=\"name\" />\r\n                </ProfileForm>\r\n                }\r\n                {userObj.isPassword ? !(nameState | passwordState) && \r\n                <>\r\n                <ProfileLabel name=\"email\" onClick={onClick}>접속 코드 변경</ProfileLabel>\r\n                <hr style={{width:\"70%\", opacity:\"70%\"}} />\r\n                </>\r\n                : null\r\n                }\r\n                {emailState &&\r\n                <ProfileForm onSubmit={onSubmitEmail}>\r\n                    <ProfileInput required name=\"email\" onChange={onChange} value={email} type=\"email\" />\r\n                    <ProfileLabel style={{marginTop: \"5px\", fontSize:\"10px\"}}>접속코드는 이메일 형태여야 합니다.</ProfileLabel>\r\n                    <ProfileSubmitBtn value=\"변경하기\" type=\"submit\" name=\"email\" />\r\n                </ProfileForm>\r\n                }\r\n                {!(nameState | emailState) && \r\n                <>\r\n                    <ProfileLabel name=\"password\" onClick={onClick}>{userObj.isPassword ? \"비밀번호 바꾸기\" : \"비밀번호 설정하기\"}</ProfileLabel>\r\n                    {passwordState && <hr style={{width:\"70%\", opacity:\"70%\"}} />}\r\n                </>\r\n                }\r\n                {passwordState &&\r\n                <ProfileForm onSubmit={onSubmitPassword}>\r\n                    <ProfileInput required name=\"password\" onChange={onChange} value={password} type=\"password\" />\r\n                    <ProfileSubmitBtn value=\"변경하기\" type=\"submit\" name=\"password\" />\r\n                </ProfileForm>\r\n                }\r\n            </ProfileContainer>\r\n            <BtnContainer>\r\n                <ManualBtn onClick={onClickManual}>서랍장 사용 설명서</ManualBtn>\r\n                <CreditBtn onClick={onClickCredit}>명예의 전당</CreditBtn>\r\n            </BtnContainer>\r\n            <QnaContainer>\r\n                <QnaLabel>문의하기 & 버그리포트</QnaLabel>\r\n                <QnaInput onChange={onChangeReport} value={report}type=\"text\" />\r\n                <QnaSubmitBtn onClick={onReport} >문의하기</QnaSubmitBtn>\r\n            </QnaContainer>\r\n            <LogOutBtn onClick={onLogOut}>Logout</LogOutBtn>\r\n        </Container>\r\n    );\r\n  }\r\n  \r\n  export default Settings;\r\n  ","import { faTrashAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport styled from \"styled-components\";\r\nimport { dbService } from \"../fBase\";\r\n\r\nconst Container = styled.div`\r\n    width: 90%;\r\n    background-color: rgba(255,255,255,0.5);\r\n    border-radius: 10px;\r\n    padding: 20px;\r\n    box-sizing: border-box;    \r\n    margin-bottom: 10px;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n    color: white;\r\n`;\r\n\r\nconst FriendList = styled.div`\r\n    width: 100%;\r\n    padding: 3px 0;\r\n    max-height: 25vh;\r\n    overflow: auto;\r\n    ::-webkit-scrollbar {\r\n        width: 7px;\r\n    }\r\n    ::-webkit-scrollbar-thumb {\r\n        background-color: rgba(255,255,255,0.7);\r\n        border-radius: 5px;\r\n    }\r\n`;\r\n\r\nconst Friend = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    color: white;\r\n    margin-top: 10px;\r\n`;\r\n\r\nconst FriendRight = styled.div`\r\n    display: flex;\r\n    gap: 10px;\r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\n\r\nconst FriendName = styled.div`\r\n    :hover {\r\n        cursor: pointer;\r\n    }\r\n    :active {\r\n        transform: scale(0.98)\r\n    }\r\n`;\r\n\r\nconst FriendCode = styled.div``;\r\n\r\nconst FriendIcon = styled.div`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin-right: 5px;\r\n    :hover {\r\n        cursor: pointer;\r\n    }\r\n    :active {\r\n        transform: scale(0.98);\r\n    }\r\n`;\r\n\r\nconst Notice = styled.div`\r\n    color: rgba(0,0,0,0.5);\r\n    margin-top: 15px;\r\n    font-size: 0.9rem;\r\n    text-align: center;\r\n    line-height: 130%;\r\n`;\r\n\r\nconst Friends = ({userObj, refreshFriends, getFriendLoading, loading}) => {\r\n    const [friends, setFriends] = useState([]);\r\n    const [friendsId, SetFriendsId] = useState([]);\r\n    const history = useHistory();\r\n\r\n    const getFriends = async () => {\r\n        if(userObj.friends && userObj.friends.length !== 0) {\r\n            await dbService.collection(\"users\").where(\"uid\", \"in\", userObj.friends).get().then(\r\n            snapshot => {\r\n                const friendArray = snapshot.docs.map(doc => ({...doc.data()})\r\n                )\r\n                let friendIdArray = [];\r\n                snapshot.docs.forEach(doc => {\r\n                    friendIdArray.push(doc.data().uid)\r\n                })\r\n                setFriends(friendArray)\r\n                SetFriendsId(friendIdArray)\r\n            })\r\n        getFriendLoading(true)\r\n        } else {\r\n            setFriends([]);\r\n            getFriendLoading(true)\r\n        }\r\n    }\r\n\r\n    const onClickUser = (e) => {\r\n        history.push(`/useranswer/${e.target.id}`)\r\n    }\r\n      \r\n    const onDeleteFriend = async (friend) => {\r\n        const newFriends = friendsId.filter(data => data !== friend.uid)\r\n        await dbService.collection(\"users\").doc(`${userObj.uid}`).update(\r\n            {friends : newFriends}\r\n        )\r\n        .then(() => {\r\n            console.log(newFriends)\r\n            refreshFriends(newFriends);\r\n            alert(`${friend.displayName}님을 서랍장에서 꺼냈습니다.`)\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        getFriends();\r\n    }, [])\r\n    return (\r\n        <>\r\n        {loading ?\r\n\r\n            <Container>\r\n            <Title>누군가의 서랍장</Title>\r\n            <hr />\r\n            <FriendList>\r\n                {friends.length !== 0 \r\n                ? friends.map(friend => (\r\n                    <Friend key={friend.uid}>\r\n                        <FriendName id={friend.uid} onClick={onClickUser}>\r\n                            {friend.displayName}\r\n                        </FriendName>\r\n                        <FriendRight>                        \r\n                            <FriendCode>\r\n                            #{friend.uid.slice(-4).toLowerCase()}\r\n                            </FriendCode>\r\n                            <FriendIcon>\r\n                                <FontAwesomeIcon onClick={() => {\r\n                                    if (window.confirm(`${friend.displayName}님을 목록에서 삭제하시겠어요?`)) {\r\n                                        onDeleteFriend(friend)\r\n                                    }}\r\n                                    } icon={faTrashAlt} size=\"sm\" />\r\n                            </FriendIcon>\r\n                        </FriendRight>\r\n                    </Friend>\r\n                ))\r\n                : <Notice>다른 사람의 답변을 통해 <br /> 다른 누군가의 서랍장을 추가 할 수 있어요.</Notice>\r\n                }\r\n            </FriendList>\r\n        </Container>\r\n            : null\r\n        }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Friends;","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { dbService } from \"../fBase\";\r\nimport { PaperAirplaneIcon } from \"@heroicons/react/outline\"\r\nimport { v4 as uuidv4} from \"uuid\";\r\n\r\nconst Container = styled.div`\r\n    margin-top: 10px;\r\n    text-indent: 5px;\r\n  line-height: 17px;\r\n  background-color: white;\r\n  word-break: keep-all;\r\n  border-bottom-right-radius: 10px;\r\n  font-family: Jeju Myeongjo;\r\n  width: 100%;\r\n  padding: 15px;\r\n  font-size: 12px;\r\n  opacity: 70%;\r\n  color: black;\r\n  box-sizing: border-box;\r\n`;\r\n\r\nconst NoteTextarea = styled.textarea`\r\n    font-size: 12px;\r\n    width: 95%;\r\n`;\r\n\r\nconst IconBox = styled.div`\r\n    display: flex;\r\n    width: 100%;\r\n    justify-content: flex-end;\r\n    :hover {\r\n        cursor: pointer;\r\n    }\r\n`;\r\n\r\nconst Reply = ({note, userObj}) => {\r\n    const [noteContent, setNoteContent] = useState('');\r\n\r\n    const onChange = e => {\r\n        setNoteContent(e.target.value)\r\n    }\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n        if (noteContent) {\r\n            const noteId = uuidv4()\r\n            const noteObj = {\r\n            noteContent,\r\n            noteId,\r\n            createdAt: Date.now(),\r\n            writer: userObj.uid,\r\n            writerName: userObj.displayName,\r\n            receiver: note.writer,\r\n            answer: note.answer,\r\n            answerId: note.answerId,\r\n            isRead: false,\r\n        }\r\n        dbService.collection(\"notes\").doc(`${noteId}`).set(noteObj)\r\n        alert(\"쪽지가 성공적으로 보내졌습니다 :)\")\r\n        setNoteContent('');\r\n        \r\n    }\r\n    }\r\n    return (\r\n        <Container>\r\n            <NoteTextarea value={noteContent} onChange={onChange} />\r\n            <IconBox onClick={onSubmit}>\r\n                <PaperAirplaneIcon style={{width:\"16px\", height:\"16px\", transform: \"rotateZ(45deg)\"}} />\r\n            </IconBox>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Reply;","import { faTrashAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport styled from \"styled-components\";\r\nimport { dbService } from \"../fBase\";\r\nimport Reply from \"./Reply\";\r\n\r\nconst Column = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-top: 10px;\r\n    color: rgba(0,0,0,0.5);\r\n    transition: 0.5s all ease-in-out;\r\n    :focus-within {\r\n        color: black;\r\n    }\r\n`;\r\n\r\nconst NoteContainer = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    width: 100%;\r\n`;\r\n\r\nconst NoteTitle = styled.div`\r\n    transition: 0.5s all ease-in-out;\r\n    font-size: 0.7rem;\r\n    :hover {\r\n        cursor: pointer;\r\n        color: black;\r\n    }\r\n`;\r\n\r\nconst NoteWriter = styled.span`\r\n    text-align: right;\r\n    width: 50px;\r\n    word-break: keep-all;\r\n    font-size: 12px;\r\n    transition: 0.5s all ease-in-out;\r\n    :hover {\r\n        cursor: pointer;\r\n        color: black;\r\n    }\r\n`;\r\n\r\nconst NoteAnswer = styled.span`\r\n    font-size: 12px;\r\n    margin-bottom: 5px;\r\n    transition: 0.5s all ease-in-out;\r\n    :hover {\r\n        cursor: pointer;\r\n        color: black;\r\n    }\r\n`;\r\n\r\nconst NoteIcon = styled.div`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    gap: 10px;\r\n    margin-right: 5px;\r\n`;\r\n\r\nconst DeleteIcon = styled.div`\r\n    display: flex;\r\n    :hover {\r\n        cursor: pointer;\r\n        color: black;\r\n        transition: 0.5s all ease-in-out;\r\n    }\r\n`;\r\n\r\nconst Note = ({note, userObj}) => {\r\n    const [replyState, setReplyState] = useState(false);\r\n    const history = useHistory();\r\n\r\n    const onDeleteClick = (e) => {\r\n        if (window.confirm(\"삭제할까요?\")) {\r\n            dbService.collection(\"notes\").doc(`${note.noteId}`).delete()\r\n        } \r\n    }\r\n\r\n    const onClickReply = () => {\r\n        setReplyState(!replyState)\r\n    }\r\n\r\n    const onClickUser = () => {\r\n        history.push(`/notes/user/${note.writer}`)\r\n    }\r\n\r\n    const onClickAnswer = () => {\r\n        history.push(`/notes/user/${note.writer}/${note.answerId}`)\r\n    }\r\n\r\n    return (\r\n        <Column key={note.noteId}>\r\n            <NoteAnswer onClick={onClickAnswer}>'{note.answer.slice(0, 15)}{note.answer.length > 15 && \"...\"}'라고 쓴 답변에서 온 쪽지입니다.\r\n            </NoteAnswer>\r\n            <NoteContainer>\r\n                <NoteTitle onClick={onClickReply}>\r\n                    {note.noteContent}\r\n                </NoteTitle>\r\n                <NoteIcon>\r\n                    <NoteWriter onClick={onClickUser}>\r\n                        - {note.writerName}\r\n                    </NoteWriter>\r\n                    <DeleteIcon>\r\n                      <FontAwesomeIcon onClick={onDeleteClick} icon={faTrashAlt} size=\"sm\" />\r\n                    </DeleteIcon>\r\n                </NoteIcon>\r\n            </NoteContainer>\r\n            {replyState && <Reply note={note} userObj={userObj} />}\r\n        </Column>\r\n    )\r\n}\r\n\r\nexport default Note;","import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { dbService } from \"../fBase\";\r\nimport Note from \"./Note\";\r\n\r\nconst Container = styled.div`\r\n    width: 90%;\r\n    background-color: rgba(255,255,255,0.5);\r\n    border-radius: 10px;\r\n    padding: 20px;\r\n    box-sizing: border-box;\r\n    margin-bottom: 10px;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n    color: white;\r\n`;\r\n\r\nconst NoteBox = styled.div`\r\n    color: rgba(0,0,0,0.5);\r\n    margin-top: 15px;\r\n    font-size: 14px;\r\n    text-align: center;\r\n`;\r\n\r\nconst NoteList = styled.div`\r\n    width: 100%;\r\n    padding: 3px 0;\r\n    max-height: 60vh;\r\n    overflow: auto;\r\n    ::-webkit-scrollbar {\r\n        width: 7px;\r\n    }\r\n    ::-webkit-scrollbar-thumb {\r\n        background-color: rgba(255,255,255,0.7);\r\n        border-radius: 5px;\r\n    }\r\n`;\r\n\r\nconst Notes = ({userObj}) => {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [noteData, setNoteData] = useState('');\r\n\r\n    const getMessage = () => {\r\n        dbService.collection(\"notes\").where(\"receiver\", \"==\", `${userObj.uid}`).onSnapshot(querySnapshot => {\r\n            let noteArray = querySnapshot.docs.map(doc => ({\r\n                id: doc.noteId,\r\n                ...doc.data(),\r\n            }))\r\n            noteArray.sort((a, b) => {\r\n                if(a.createdAt > b.createdAt) return -1;\r\n                if(a.createdAt === b.createdAt) return 0;\r\n                if(a.createdAt < b.createdAt) return 1;\r\n              });\r\n            setNoteData(noteArray);\r\n            setIsLoading(false);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        getMessage();\r\n    }, [])\r\n    \r\n    return (\r\n            <Container>\r\n                {isLoading \r\n                    ? null\r\n                    :\r\n                    <>\r\n                    <Title>쪽지함</Title>\r\n                    <hr />\r\n\r\n                    {noteData.length === 0 \r\n                    ? <NoteBox>표시할 쪽지가 없습니다.</NoteBox>\r\n                    : (<NoteList>\r\n                        {noteData.map(note => (\r\n                            <Note userObj={userObj} note={note} />\r\n                        ))}\r\n                    </NoteList>)\r\n                    }\r\n                    </>\r\n                }\r\n            </Container>\r\n    )\r\n}\r\n\r\nexport default Notes;","import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Friends from \"../components/Friends\";\r\nimport Notes from \"../components/Notes\";\r\n\r\nconst Container = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-top: 40px;\r\n    padding: 10px 0; \r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    width: 100%;\r\n    height: 100vh;\r\n`;\r\n\r\nconst Community = ({userObj, refreshFriends, noteData}) => {\r\n    const [friendLoading, setFriendLoading] = useState(false);\r\n\r\n    const getFriendLoading = (loading) => {\r\n        setFriendLoading(loading);\r\n    }\r\n\r\n    useEffect(() => {\r\n    }, [])\r\n\r\n    return (\r\n        <Container>\r\n            <Friends userObj={userObj} loading={friendLoading} refreshFriends={refreshFriends} getFriendLoading={getFriendLoading} />\r\n            <Notes userObj={userObj} noteData={noteData} />\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Community;","import { faPlusCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport styled from \"styled-components\";\r\nimport Answer from \"../components/Answer\";\r\nimport Loading from \"../components/Loading\";\r\nimport { dbService } from \"../fBase\";\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n`;\r\n\r\nconst Writer = styled.div`\r\n    width: 100%;\r\n    text-align: center;\r\n    font-size: 1.2rem;\r\n    color: white;\r\n    font-family: Jeju myeongjo;\r\n    margin-top: 50px;\r\n    margin-bottom: 40px;\r\n`;\r\n\r\nconst AddBtn = styled.button`\r\n    background-color: transparent;\r\n    border: 0;\r\n    color: white;\r\n    opacity: 0.7;\r\n    padding: 15px 0;\r\n    :hover {\r\n        cursor: pointer;\r\n    }\r\n    :active {\r\n        transform: scale(0.98);\r\n    }\r\n`;\r\n\r\nconst LastAnswer = styled.div`\r\n    color: white;\r\n    font-size: 0.7rem;\r\n    padding: 15px 0;\r\n`;\r\n\r\nconst UserAnswers = ({userObj, refreshFriends}) => {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [answers, setAnswers] = useState([]);\r\n    const { id } = useParams();\r\n    const [currentPage, setCurrentPage] = useState(1)\r\n\r\n    const currentPosts = (posts) => {\r\n        let currentPosts = 0;\r\n        currentPosts = posts.slice(0, currentPage * 5)\r\n        return currentPosts\r\n      }\r\n  \r\n      const addPage = () => {\r\n        if (currentPage*5 >= answers.length) {\r\n          getAnswers();\r\n        }\r\n        setCurrentPage(currentPage + 1)\r\n    }\r\n    \r\n    const getAnswers = async () => {\r\n        await dbService.collection(\"answers\").where(\"isPrivate\", \"==\", false).where(\"userId\", \"==\", `${id}`).orderBy(\"createdAt\").limitToLast(currentPage*5 + 10).get()\r\n        .then(snapShot => {\r\n          const answerData = snapShot.docs.map(doc => ({\r\n            ...doc.data()\r\n          }))\r\n          answerData.sort((a, b) => {\r\n            if(a.createdAt > b.createdAt) return -1;\r\n            if(a.createdAt === b.createdAt) return 0;\r\n            if(a.createdAt < b.createdAt) return 1;\r\n          });\r\n          setAnswers(answerData)\r\n          setIsLoading(false);\r\n        }\r\n        )\r\n      }\r\n      useEffect(() => {\r\n        getAnswers();\r\n      }, [])\r\n\r\n    return (\r\n        <Container>\r\n        {isLoading \r\n        ? <Loading />\r\n        :\r\n        <>\r\n        <Writer>{answers[0].userName}의 대답들</Writer>\r\n        {currentPosts(answers).map(answer => <Answer answer={answer} userObj={userObj} refreshFriends={refreshFriends} />)}\r\n        {currentPage*5 <= answers.length \r\n        ?\r\n        <AddBtn onClick={addPage}>\r\n            <FontAwesomeIcon icon={faPlusCircle} size=\"2x\" />\r\n        </AddBtn>\r\n        : <LastAnswer>\r\n            마지막 대답입니다.\r\n        </LastAnswer>\r\n        }\r\n        </>\r\n        }\r\n      </Container>\r\n    )\r\n}\r\n\r\nexport default UserAnswers;","import React, { useEffect } from \"react\";\r\nimport { authService } from \"../fBase\";\r\n\r\nconst SignOut = () => {\r\n    useEffect(() => {\r\n        authService.signOut();\r\n    }, [])\r\n    return (\r\n        \"Signout\"\r\n    )\r\n}\r\n\r\nexport default SignOut;","export const Sponsor = {\r\n    thinkShare : [\r\n        \"원동혁\",\r\n        \"정대림\",\r\n        \"김상목\",\r\n        \"박건휘\",\r\n        \"박서윤\",\r\n        \"윤수민\",\r\n        \"백서연\",\r\n        \"송호재\",\r\n        \"임태홍\",\r\n        \"전윤호\",\r\n        \"최수연\",\r\n        \"김윤선\",\r\n        \"김진용\",\r\n        \"최아룡\",\r\n        \"최지수\",\r\n        \"송시내\",\r\n        \"오세은\",\r\n        \"오승섭\",\r\n        \"이희수\",\r\n        \"김민선\",\r\n        \"나소영\",\r\n        \"백승아\",\r\n        \"신우희\",\r\n        \"조원진\",\r\n        \"한주경\",\r\n        \"박태훈\",\r\n        \"박영민\",\r\n        \"김민지\",\r\n        \"이 은\"\r\n    ],\r\n    sponsor: {\r\n        \"#1\" : [\r\n            { \r\n                comment : \"원진 작가님 항상 응원합니다♥\",\r\n                writer : \"백승아\",\r\n            },\r\n            { \r\n                comment : \"일일이육\",\r\n                writer : \"서연\",\r\n            },\r\n            { \r\n                comment : \"\",\r\n                writer : \"예림\",\r\n            },\r\n            { \r\n                comment : \"청춘(靑春): 새싹이 파랗게 돋아나는 봄철이라는 뜻으로, 십 대 후반에서 이십 대에 걸치는 인생의 젊은 나이 또는 그런 시절을 이르는 말. 예문) 주인장의 청춘을 함께할 수 있어 좋습니다.\",\r\n                writer : \"이랑\",\r\n            },\r\n            { \r\n                comment : \"반갑습니다:)\",\r\n                writer : \"zzzzz\",\r\n            },\r\n            { \r\n                comment : \"또다시 싸워 이길 나의 기쁨 나의 노래야\",\r\n                writer : \"우너진\",\r\n            },\r\n            { \r\n                comment : \"새롭게 바뀌려고 노력하기 위해 글을 남김\",\r\n                writer : \"장우태\",\r\n            },\r\n            { \r\n                comment : \"감사합니다.\",\r\n                writer : \"백지원\",\r\n            },\r\n            { \r\n                comment : \"2021년, 나도 나만의 서랍장도 좋은일만 생기길 !\",\r\n                writer : \"ck\",\r\n            },\r\n            { \r\n                comment : \"정말 멋있는 사람이 만든 멋있는 책을 갖게되어 영광입니다 :)\",\r\n                writer : \"박주현\",\r\n            },\r\n            { \r\n                comment : \"다들 매일이 소중하셨으면 좋겠어요 :-)\",\r\n                writer : \"김민선\",\r\n            },\r\n            { \r\n                comment : \"Done is better than perfect\",\r\n                writer : \"SaTivus\",\r\n            },\r\n            { \r\n                comment : \"다들 어떻게든 버티면서 살아봅시다.\",\r\n                writer : \"금산모기\",\r\n            },\r\n            { \r\n                comment : \"\",\r\n                writer : \"변현경\",\r\n            },\r\n        ],\r\n        \"#2\" : [\r\n            { \r\n                comment : \"\",\r\n                writer : \"구수경\",\r\n            },\r\n            { \r\n                comment : \"언제든 꺼내볼 수 있게 자신의 서랍장을 잘 정리할 것. 그것을 잊지 않는 삶을 살길.\",\r\n                writer : \"HONGZZANG_\",\r\n            },\r\n            { \r\n                comment : \"이렇게라도 현생의 명예를 챙길 수 있어서 다행이다\",\r\n                writer : \"김민정\",\r\n            },\r\n            { \r\n                comment : \"서랍장에서 가장 힘들때 힘을 내는 시간을 가졌었어요. 앞으로 제 인생에 서랍장이 계속 함께하기를 바래요.\",\r\n                writer : \"에이피\",\r\n            },\r\n            { \r\n                comment : \"번창하세요.\",\r\n                writer : \"그로잉마인드\",\r\n            },\r\n            { \r\n                comment : \"앙\",\r\n                writer : \"광기\",\r\n            },\r\n            { \r\n                comment : \"관경아, 멀리서나마 응원할게. :)\",\r\n                writer : \"별명\",\r\n            },\r\n            { \r\n                comment : \"다들 건강하기를\",\r\n                writer : \"정인아\",\r\n            },\r\n            { \r\n                comment : \"다들 건강하기를\",\r\n                writer : \"정인아\",\r\n            },\r\n            { \r\n                comment : \"등록 희망 ㅎㅎㅎ\",\r\n                writer : \"기현\",\r\n            },\r\n            { \r\n                comment : \"기억되고싶은 시간이 되길\",\r\n                writer : \"Ram\",\r\n            },\r\n            { \r\n                comment : \"생각이 많아지게 하는 책\",\r\n                writer : \"이재령\",\r\n            },\r\n            { \r\n                comment : \"응원합니다!! 화이팅!\",\r\n                writer : \"허재경\",\r\n            },\r\n            { \r\n                comment : \"주인장님, 멋지십니다. 응원합니다\",\r\n                writer : \"hl\",\r\n            },\r\n            { \r\n                comment : \"여러분 모두 나만의 서랍장을 통해 생각을 정리하면서  성장하셨으면 좋겠습니다!\",\r\n                writer : \"이은지\",\r\n            },\r\n            { \r\n                comment : \"모두 생기있는 삶을 살아가길 바랍니다 :-)\",\r\n                writer : \"ㅡ\",\r\n            },\r\n            { \r\n                comment : \"그럼에도 불구하고, 당신의 기억하고 싶은 하루를 바랍니다.\",\r\n                writer : \"interstellar\",\r\n            },\r\n            { \r\n                comment : \"올해는 좋은 생각만 했으면 바란다.\",\r\n                writer : \"최승철\",\r\n            },\r\n            { \r\n                comment : \"행복은 찾아오는 것이 아니라, 내가 찾아가는 길일 것입니다.이 서랍장이 행복을 찾아가는 무수한 길 중 한 가지 길이 되기를 바랍니다.\",\r\n                writer : \"지렁잉\",\r\n            },\r\n            { \r\n                comment : \"생각하는 동안에는 어떤 감정에도 휘둘리지 않고 그냥 담담하게 받아들일 수 있었으면 좋겠어요. 다들 흘러가는 대로 행복해지시면 좋겠습니다.\",\r\n                writer : \"임소진\",\r\n            },\r\n            { \r\n                comment : \"어느 때나 행복해주세요.\",\r\n                writer : \"익명\",\r\n            },\r\n            { \r\n                comment : \"2021 화이팅! 원하는 일 모두 이루길\",\r\n                writer : \"AEMIYAGUGIJJADA\",\r\n            },\r\n            { \r\n                comment : \"복잡한 생각을 정리하면 행복이 조금이나마 다가올까 싶다\",\r\n                writer : \"최슬기\",\r\n            },\r\n            { \r\n                comment : \"앞으로도 잘할 수 있을거야 힘내자!!\",\r\n                writer : \"Penna\",\r\n            },\r\n            { \r\n                comment : \"모두들 행복하세요?\",\r\n                writer : \"소연\",\r\n            },\r\n            { \r\n                comment : \"모두 생기있는 삶을 살아가길 바랍니다 :-)\",\r\n                writer : \"호핑피\",\r\n            },\r\n            { \r\n                comment : \"주인장은 기뻐하고, 누군가는 기다린다. 행복하셨으면 좋겠습니다??\",\r\n                writer : \"시작은달콤파게\",\r\n            },\r\n            { \r\n                comment : \"나는 베리굿이다. 너 또한 그렇다.\",\r\n                writer : \"김민지\",\r\n            },\r\n            { \r\n                comment : \"아 형님 여기다가 투자하면 된다고요?\",\r\n                writer : \"keenk\",\r\n            },\r\n            { \r\n                comment : \"정리되지 않은 생각들로 힘들어 하던 당신에게 보냅니다.\",\r\n                writer : \"savannah\",\r\n            },\r\n            { \r\n                comment : \"많은 생각들로 밤새우는 당신에게 도움이 되길 바래요.\",\r\n                writer : \"savannah\",\r\n            },\r\n            { \r\n                comment : \"정리되지 않은 생각으로 힘들어 하는 당신에게 힘이 되길.\",\r\n                writer : \"savannah\",\r\n            },\r\n            { \r\n                comment : \"읽는 이의 마음의 온도를 높여주는 책난로가 되기를.\",\r\n                writer : \"심찬영\",\r\n            },\r\n            { \r\n                comment : \"이 책을 읽게 될  많은 분들이 또 다른 '누군가'가 되어 자신의 생각을 뒤돌아보며 표현해보는 시간이 되길 바랍니다. 제가 그랬던 것 처럼요!\",\r\n                writer : \"이희수\",\r\n            },\r\n        ],\r\n        \"#3\" : [\r\n            { \r\n                comment : \"가끔은 해도 돼요.\",\r\n                writer : \"지용수\",\r\n            },\r\n        ],\r\n        \"#4\" : [\r\n            { \r\n                comment : \"나는 신이다 나는 고로 존재한다\",\r\n                writer : \"윤현식\",\r\n            },\r\n            { \r\n                comment : \"나는 생각한다 고로 서랍장을 이용한다\",\r\n                writer : \"윤현식\",\r\n            },\r\n            { \r\n                comment : \"형 사업번창하면 좋겠어요\",\r\n                writer : \"윤현식\",\r\n            },\r\n        ],\r\n        \"#5\" : [\r\n            { \r\n                comment : \"안녕하세요 반갑습니다 \",\r\n                writer : \"최수연\",\r\n            },\r\n            { \r\n                comment : \"명예의 전당에 뭐라 쓸꺼라 물어보신다면! 대답해 드리는게 인지상정! 이 책의 발매를 위해!\",\r\n                writer : \"오해택\",\r\n            },\r\n            { \r\n                comment : \"주인장의 성공을 바랍니다.\",\r\n                writer : \"세월\",\r\n            },\r\n            { \r\n                comment : \"서랍장에 들어간다면 귀퉁이 자리가 좋겠어요. 모든 기억을 한 눈에 볼 수 있으니까요.\",\r\n                writer : \"ysu\",\r\n            },\r\n        ]\r\n    }\r\n}","import { useEffect } from \"react\";\r\nimport { useRef } from \"react\";\r\n\r\nexport function useInterval(callback, delay) {\r\n    const intervalRef = useRef(null);\r\n    const savedCallback = useRef(callback);\r\n    useEffect(() => {\r\n      savedCallback.current = callback;\r\n    }, [callback]);\r\n    useEffect(() => {\r\n      const tick = () => savedCallback.current();\r\n      if (typeof delay === 'number') {\r\n        intervalRef.current = window.setInterval(tick, delay);\r\n        return () => window.clearInterval(intervalRef.current);\r\n      }\r\n    }, [delay]);\r\n  }","export default __webpack_public_path__ + \"static/media/Soul and Mind - E's Jammy Jams.43e78e83.mp3\";","import { faBackward, faForward, faPause, faPlay } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Sponsor } from \"../components/DB/Sponsor\";\r\nimport { useInterval } from \"../hooks/UseInterval\";\r\nimport { isMobile } from \"react-device-detect\";\r\nimport bgm from \"../music/Soul and Mind - E's Jammy Jams.mp3\"\r\n\r\nconst Container = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 50px;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: black;\r\n    width: 100%;\r\n    overflow-y: scroll;\r\n    color: white;\r\n    padding: 105vh 0;\r\n    ::-webkit-scrollbar {\r\n        display: none;\r\n    }\r\n`;\r\n\r\nconst PlayBox = styled.button`\r\n    display: flex;\r\n    flex-direction: column;\r\n    position: fixed;\r\n    bottom: 20px;\r\n    opacity: 30%;\r\n    background-color: transparent;\r\n    border: none;\r\n    transition: 1s all ease-in-out;\r\n    :hover {\r\n        opacity: 100%;\r\n    }\r\n`;\r\n\r\nconst PlayInput = styled.input`\r\n  -webkit-appearance: none;\r\n  margin-right: 15px;\r\n  width: 100%;\r\n  height: 6px;\r\n  border-radius: 7px;\r\n  background-size: 50% 100%;\r\n  background-repeat: no-repeat;\r\n  background-color: white;\r\n  ::-webkit-slider-thumb {\r\n    -webkit-appearance: none;\r\n    height: 10px;\r\n    width: 10px;\r\n    border-radius: 50%;\r\n    background: white;\r\n    cursor: ew-resize;\r\n    box-shadow: 0 0 2px 0 #555;\r\n    transition: background .3s ease-in-out;\r\n  }\r\n`;\r\n\r\nconst PlayBtnBox = styled.div`\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin: 10px 0;\r\n    gap: 5px;\r\n`;\r\n\r\nconst PlayBtn = styled.button`\r\n    background-color: transparent;\r\n    border: none;\r\n    color: white;\r\n    transition: 1s all ease-in-out;\r\n    :hover {\r\n        cursor: pointer;\r\n    }\r\n`;\r\n\r\nconst Title = styled.h1`\r\n    font-size: 1.5rem;\r\n    color: var(--gold);\r\n`;\r\n\r\nconst ThanksContainer = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 20px;\r\n    margin: 10px;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: auto;\r\n    width: 100%;\r\n`;\r\n\r\nconst ThanksTitle = styled.h2`\r\n    font-size: 1.3rem;\r\n    margin-bottom: 10px;\r\n`;\r\n\r\nconst ThanksName = styled.h3`\r\n    width: 90%;\r\n    flex-wrap: wrap;\r\n    display: flex;\r\n    gap: 10px;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin-bottom: 10px;\r\n`;\r\n\r\nconst Comment = styled.div`\r\n    word-break: keep-all;\r\n    line-height: 160%;\r\n`;\r\n\r\nconst Name = styled.h3`\r\n    display: flex;\r\n    color: var(--gold);\r\n`;\r\n\r\nconst White = styled.h3`\r\n    color: white;\r\n    margin-left: 5px;\r\n`;\r\n\r\nconst Thankyou = styled.div`\r\n    position: fixed;\r\n    top: 40vh;\r\n    color: white;\r\n    transition: 1s all ease-in-out;\r\n    width: 100%;\r\n    text-align: center;\r\n`;\r\n\r\nconst Credit = () => {\r\n    const [init, setInit] = useState(false);\r\n    const [speed, setSpeed] = useState(0);\r\n    const [scroll, setScroll] = useState(0);\r\n    const [commentState, setCommentState] = useState(false);\r\n    const [bgmJazz] = useState(new Audio(bgm));\r\n    let currentScroll;\r\n\r\n    const onScrollChange = e => {\r\n        e.preventDefault();\r\n        setScroll(e.target.value)\r\n        window.scrollTo(0, e.target.value);\r\n    }\r\n\r\n    const onClickBackward = e => {\r\n        if (isMobile) {\r\n            if (speed > -100) {\r\n                setSpeed(speed - 10)\r\n            }\r\n        } else {\r\n            if (speed > -10) {\r\n                setSpeed(speed - 1)\r\n            }\r\n        }\r\n    }\r\n\r\n    const onClickPlay = e => {\r\n        if (speed === 0) {\r\n            if (!init) {\r\n                setInit(true)\r\n                setSpeed(isMobile ? 10 : 1)\r\n                setTimeout(() => {\r\n                    bgmJazz.play();\r\n                }, 1000)\r\n            } else {\r\n                setSpeed(isMobile ? 10 : 1)\r\n                bgmJazz.play();\r\n            }\r\n        } else if (speed !== 0) {\r\n            setSpeed(0);\r\n            bgmJazz.pause();\r\n        }\r\n    }\r\n\r\n    const onClickForward = e => {\r\n        if (isMobile) {\r\n            if (speed < 100) {\r\n                setSpeed(speed + 10)\r\n            } \r\n        } else {\r\n            if (speed < 10) {\r\n                setSpeed(speed + 1)\r\n            }\r\n        }\r\n    }\r\n\r\n    useInterval(() => {\r\n        if (speed !== 0 && window.scrollY + window.innerHeight + 1 <= document.body.scrollHeight) {\r\n            scriptPlay();\r\n        }\r\n        if (window.scrollY + window.innerHeight + 100 >= document.body.scrollHeight) {\r\n            setCommentState(true);\r\n        } else {\r\n            setCommentState(false);\r\n        }\r\n    }, 30)\r\n\r\n    useInterval(() => {\r\n        setScroll(window.scrollY)\r\n    }, 500)\r\n\r\n    const scriptPlay = () => {\r\n        window.scrollBy({ top: `${speed}`, behavior: 'smooth'});\r\n        currentScroll = window.scrollY;\r\n    }\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            clearInterval();\r\n            bgmJazz.pause();\r\n        }\r\n    }, [])\r\n    \r\n    return (\r\n        <Container>\r\n            <PlayBox style={{bottom: init? \"20px\" : \"50vh\"}} >\r\n                {init && \r\n                <PlayInput max={document.body.scrollHeight - window.innerHeight} min=\"0\" value={window.scrollY} onChange={onScrollChange} type=\"range\" />}\r\n                <PlayBtnBox>\r\n                    {init && <PlayBtn onClick={onClickBackward}>\r\n                        <FontAwesomeIcon icon={faBackward} />\r\n                    </PlayBtn>}\r\n                    {speed === 0\r\n                    ?\r\n                    <PlayBtn style={{fontSize: !init && \"30px\"}} onClick={onClickPlay}>\r\n                        <FontAwesomeIcon icon={faPlay} />\r\n                    </PlayBtn>\r\n                    : \r\n                    <PlayBtn onClick={onClickPlay}>\r\n                        <FontAwesomeIcon icon={faPause} />\r\n                    </PlayBtn>\r\n                    }\r\n                    {init && \r\n                    <PlayBtn onClick={onClickForward}>\r\n                        <FontAwesomeIcon icon={faForward} />\r\n                    </PlayBtn>}\r\n                </PlayBtnBox>\r\n            </PlayBox>\r\n            <Title style={{opacity: !init && \"0\"}}>서랍장 명예의 전당</Title>\r\n            <ThanksContainer style={{opacity: !init && \"0\"}}>\r\n                <ThanksTitle>후원해주신 분들</ThanksTitle>\r\n                {Sponsor.sponsor[\"#1\"].map(thinkperson => (\r\n                    <ThanksName>\r\n                        <Comment>{thinkperson.comment}</Comment>\r\n                        <Name> \r\n                            - {thinkperson.writer} \r\n                            <White>\r\n                             님\r\n                            </White>\r\n                        </Name>\r\n                    </ThanksName>\r\n                ))}\r\n                {Sponsor.sponsor[\"#2\"].map(thinkperson => (\r\n                    <ThanksName>\r\n                        <Comment>{thinkperson.comment}</Comment>\r\n                        <Name> \r\n                            - {thinkperson.writer} \r\n                            <White>\r\n                             님\r\n                            </White>\r\n                        </Name>\r\n                    </ThanksName>\r\n                ))}\r\n                {Sponsor.sponsor[\"#3\"].map(thinkperson => (\r\n                    <ThanksName>\r\n                        <Comment>{thinkperson.comment}</Comment>\r\n                        <Name> \r\n                            - {thinkperson.writer} \r\n                            <White>\r\n                             님\r\n                            </White>\r\n                        </Name>\r\n                    </ThanksName>\r\n                ))}\r\n                {Sponsor.sponsor[\"#4\"].map(thinkperson => (\r\n                    <ThanksName>\r\n                        <Comment>{thinkperson.comment}</Comment>\r\n                        <Name> \r\n                            - {thinkperson.writer} \r\n                            <White>\r\n                             님\r\n                            </White>\r\n                        </Name>\r\n                    </ThanksName>\r\n                ))}    \r\n                {Sponsor.sponsor[\"#5\"].map(thinkperson => (\r\n                    <ThanksName>\r\n                        <Comment>{thinkperson.comment}</Comment>\r\n                        <Name> \r\n                            - {thinkperson.writer} \r\n                            <White>\r\n                             님\r\n                            </White>\r\n                        </Name>\r\n                    </ThanksName>\r\n                ))}                            \r\n            </ThanksContainer>\r\n            <ThanksContainer>\r\n                <ThanksTitle>생각을 함께 나눠주신 분들</ThanksTitle>\r\n                {Sponsor.thinkShare.map(thinkperson => (\r\n                    <ThanksName>\r\n                    <Name>{thinkperson}</Name>님\r\n                    </ThanksName>\r\n                ))}\r\n            </ThanksContainer>\r\n            <ThanksContainer>\r\n                <ThanksTitle>도움을 주신 분들</ThanksTitle>\r\n                <ThanksName>수석 디자이너 <Name>경민이</Name></ThanksName>\r\n                <ThanksName>창동관 이웃<Name>영민이</Name></ThanksName>\r\n                <ThanksName>많은 도움을 준<Name>태일 형</Name></ThanksName>\r\n                <ThanksName>창업 초기부터 많은 도움 주신<Name>허재경 대표님</Name></ThanksName>\r\n                <ThanksName>SAYU PARTNER-S<Name>준성이형</Name></ThanksName>\r\n                <ThanksName>사람에게 정 붙일 수 있게 도와준<Name>태훈이형</Name></ThanksName>\r\n                <ThanksName>여러가지 정보들 주시고 응원해주신<Name>창업 동아리 선생님들</Name></ThanksName>\r\n                <ThanksName>많은 동기부여 주신<Name>대표님들</Name></ThanksName>\r\n                <ThanksName>응원해준<Name>친구들</Name></ThanksName>\r\n                <ThanksName>저보고 할 수 있다고 해주신<Name>모든 분들</Name></ThanksName>\r\n            </ThanksContainer>\r\n            <Thankyou style={{opacity: commentState ? \"100%\" : \"0%\"}}>\r\n                아직 무언가를 이뤄낸건 아니지만, \r\n                <Thankyou style={{marginTop: \"30px\", opacity: commentState ? \"100%\" : \"0%\", transitionDelay: \"1s\"}}>\r\n                    덕분에 여기까지라도 올 수 있었습니다.\r\n                </Thankyou>\r\n                <Thankyou style={{marginTop: \"60px\", opacity: commentState ? \"100%\" : \"0%\", transitionDelay: \"2s\"}}>\r\n                    정말 감사합니다. 행복하시면 좋겠습니다.\r\n                </Thankyou>\r\n                <Thankyou style={{marginTop: \"90px\", opacity: commentState ? \"100%\" : \"0%\", transitionDelay: \"3s\"}}>\r\n                    서랍장 주인장 드림\r\n                </Thankyou>\r\n            </Thankyou>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Credit;","import { faCommentAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport react from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n    position: relative;\r\n    background-color: rgba(255,255,255,0.7);\r\n    width: 95%;\r\n    padding: 15px;\r\n    border-radius: 10px;\r\n    box-sizing: border-box;\r\n`;\r\n\r\nconst NoteTitle = styled.h3`\r\n    font-size: 0.9rem;\r\n    margin-bottom: 10px;\r\n`;\r\n\r\nconst NoteContent = styled.div`\r\n    display: flex;\r\n    gap: 5px;\r\n    font-size: 0.9rem;\r\n    :hover {\r\n        cursor: pointer;\r\n    }\r\n`;\r\n\r\nconst NoteWriter = styled.span`\r\n    bottom: 5px;\r\n    right: 5px;\r\n    position: absolute;\r\n    font-size: 0.7rem;\r\n    opacity: 80%;\r\n`;\r\n\r\nconst NoteTime = styled.span`\r\n    top: 5px;\r\n    right: 5px;\r\n    position: absolute;\r\n    font-size: 0.7rem;\r\n    opacity: 80%;\r\n`;\r\n\r\nconst NotesList = ({noteData}) => {\r\n    const history = useHistory();\r\n\r\n    const onClickAnswer = () => {\r\n        history.push(`/notes/user/${noteData.writer}/${noteData.answerId}`)\r\n    }\r\n\r\n    const Time = new Date(noteData.createdAt) \r\n    const year = Time.getFullYear();\r\n    const month = Time.getMonth() + 1;\r\n    const day = Time.getDate();\r\n    const date = `${year}년 ${month < 10 ? \"0\" + month : month}월 ${day < 10 ? \"0\"+day : day}일`\r\n    const lastTime = (Date.now() - noteData.createdAt) / 1000 / 60\r\n    const lastMinutes = Math.round(lastTime)\r\n    const lastHours = Math.round(lastTime / 60)\r\n    const lastDays = Math.round(lastHours / 24)\r\n\r\n    return (\r\n        <Container>\r\n            <NoteTitle>\r\n                '{noteData.answer.length > 9 ? noteData.answer.slice(0, 10) + \"...\" : noteData.answer}'에서 시작된 쪽지\r\n            </NoteTitle>\r\n            <NoteContent onClick={onClickAnswer}>\r\n                <FontAwesomeIcon icon={faCommentAlt} size=\"sm\" /> {noteData.noteContent}\r\n            </NoteContent>\r\n            <NoteTime>\r\n                {lastMinutes < 60 \r\n                    ? `${lastMinutes}분 전` \r\n                    : lastHours < 24 \r\n                    ? `${lastHours}시간 전`\r\n                    : lastDays > 7\r\n                        ? `${date}`\r\n                        : `${lastDays}일 전`\r\n                }\r\n            </NoteTime>\r\n            <NoteWriter>\r\n                - {noteData.writerName}\r\n            </NoteWriter>    \r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default NotesList;","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport styled from \"styled-components\";\r\nimport Loading from \"../components/Loading\";\r\nimport NotesList from \"../components/NotesList\";\r\nimport { dbService } from \"../fBase\";\r\n\r\nconst Container = styled.div`\r\n    display: flex;\r\n    padding-top: 30px;\r\n    flex-direction: column;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    height: 100%;\r\n    width: 100%;\r\n    margin-top: 20px;\r\n    box-sizing: border-box;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n    margin: 20px;\r\n    display: flex;\r\n    color: white;\r\n    font-size: 1.5rem;\r\n    font-family: Kyobo Handwriting;\r\n    flex-direction: column;\r\n`;\r\n\r\nconst NotesContainer = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 10px;\r\n    width: 100%;\r\n    justify-content: center;\r\n    align-items: center;\r\n    padding: 10px;\r\n    box-sizing: border-box;\r\n`;\r\n\r\nconst NotesAnswer = ({userObj}) => {\r\n    const {id} = useParams();\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [userName, setUserName] = useState('');\r\n    const [notesCategory, setNotesCategory] = useState([]);\r\n\r\n    const getNotes = () => {\r\n        dbService.collection(\"notes\").where(\"receiver\", \"==\", `${userObj.uid}`).where(\"writer\", \"==\", `${id}`).onSnapshot(querySnapshot => {\r\n            let notesCategoryData = [];\r\n            let notesCategoryAnswer = [];\r\n            const notesArray = querySnapshot.docs.map(doc => ({\r\n                ...doc.data()\r\n            })\r\n            )\r\n            notesArray.sort((a, b) => {\r\n                if(a.createdAt > b.createdAt) return -1;\r\n                if(a.createdAt === b.createdAt) return 0;\r\n                if(a.createdAt < b.createdAt) return 1;\r\n            });\r\n            for (let i = 0; i < notesArray.length; i++) {\r\n                if (!notesCategoryData.includes(notesArray[i].answerId)) {\r\n                    notesCategoryData.push(notesArray[i].answerId);\r\n                    notesCategoryAnswer.push(notesArray[i]);\r\n                }\r\n            }\r\n            setUserName(notesArray[0].writerName)\r\n            setNotesCategory(notesCategoryAnswer)\r\n            setIsLoading(false);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        getNotes();\r\n    }, [])\r\n\r\n    return (\r\n        <Container>\r\n            {isLoading \r\n            ? <Loading />\r\n            :\r\n            <>\r\n            <Title>{userName}님과의 쪽지들</Title>\r\n            <NotesContainer>\r\n                {notesCategory.map(category => \r\n                    <NotesList noteData={category} />\r\n                )\r\n                }\r\n            </NotesContainer>\r\n            </>\r\n            }\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default NotesAnswer;","import react from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n    position: relative;\r\n    background-color: rgba(255,255,255,0.7);\r\n    min-width: 120px;\r\n    padding: 15px;\r\n    border-radius: 10px;\r\n`;\r\n\r\nconst NoteContent = styled.div`\r\n    font-size: 1rem;\r\n    padding: 10px 0;\r\n`;\r\n\r\nconst NoteWriter = styled.span`\r\n    bottom: 5px;\r\n    right: 5px;\r\n    position: absolute;\r\n    font-size: 0.7rem;\r\n    opacity: 80%;\r\n`;\r\n\r\nconst NoteTime = styled.span`\r\n    top: 5px;\r\n    right: 5px;\r\n    position: absolute;\r\n    font-size: 0.7rem;\r\n    opacity: 80%;\r\n`;\r\n\r\nconst NoteDetail = ({noteData, userObj}) => {\r\n\r\n    const Time = new Date(noteData.createdAt) \r\n    const year = Time.getFullYear();\r\n    const month = Time.getMonth() + 1;\r\n    const day = Time.getDate();\r\n    const date = `${year}년 ${month < 10 ? \"0\" + month : month}월 ${day < 10 ? \"0\"+day : day}일`\r\n    const lastTime = (Date.now() - noteData.createdAt) / 1000 / 60\r\n    const lastMinutes = Math.round(lastTime)\r\n    const lastHours = Math.round(lastTime / 60)\r\n    const lastDays = Math.round(lastHours / 24)\r\n\r\n    return (\r\n        <Container style={{alignSelf: noteData.writer === userObj.uid ? \"flex-end\" : \"flex-start\"}} >\r\n            <NoteContent>\r\n                {noteData.noteContent}\r\n            </NoteContent>\r\n            <NoteTime>\r\n                {lastMinutes < 60 \r\n                    ? `${lastMinutes}분 전` \r\n                    : lastHours < 24 \r\n                    ? `${lastHours}시간 전`\r\n                    : lastDays > 7\r\n                        ? `${date}`\r\n                        : `${lastDays}일 전`\r\n                }\r\n            </NoteTime>\r\n            <NoteWriter>\r\n                - {noteData.writerName}\r\n            </NoteWriter>    \r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default NoteDetail;","import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport styled from \"styled-components\";\r\nimport Loading from \"../components/Loading\";\r\nimport NoteDetail from \"../components/NoteDetail\";\r\nimport { dbService } from \"../fBase\";\r\n\r\nconst Container = styled.div`\r\n    display: flex;\r\n    padding-top: 30px;\r\n    flex-direction: column;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    height: 100%;\r\n    width: 100%;\r\n    margin-top: 20px;\r\n    box-sizing: border-box;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n    margin: 20px;\r\n    display: flex;\r\n    color: white;\r\n    font-size: 1.5rem;\r\n    font-family: Kyobo Handwriting;\r\n    flex-direction: column;\r\n`;\r\n\r\nconst NotesContainer = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 10px;\r\n    width: 100%;\r\n    justify-content: center;\r\n    align-items: flex-start;\r\n    padding: 10px;\r\n    box-sizing: border-box;\r\n    max-height: 80vh;\r\n`;\r\n\r\nconst NotesAnswer = ({userObj}) => {\r\n    const {id, answerId} = useParams();\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [notesData, setNotesData] = useState('');\r\n    const [question, setQuestion] = useState('');\r\n\r\n    const getNotes = () => {\r\n        dbService.collection(\"notes\").where(\"receiver\", \"in\", [`${userObj.uid}`, `${id}`]).where(\"answerId\", \"==\", `${answerId}`).onSnapshot(querySnapshot => {\r\n            const notesArray = querySnapshot.docs.map(doc => ({\r\n                ...doc.data()\r\n            })\r\n            )\r\n            notesArray.sort((a, b) => {\r\n                if(a.createdAt < b.createdAt) return -1;\r\n                if(a.createdAt === b.createdAt) return 0;\r\n                if(a.createdAt > b.createdAt) return 1;\r\n            });\r\n            setNotesData(notesArray);\r\n            setQuestion(notesArray[0].answer);\r\n            setIsLoading(false);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        getNotes();\r\n    }, [])\r\n\r\n    return (\r\n        <Container>\r\n            {isLoading \r\n            ? <Loading />\r\n            :\r\n            <>\r\n            <Title>{question}로부터 시작된 쪽지</Title>\r\n            <NotesContainer>\r\n                {notesData.map(note => (\r\n                    <NoteDetail noteData={note} userObj={userObj} />\r\n                ))}\r\n            </NotesContainer>\r\n            </>\r\n            }\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default NotesAnswer;","import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div``;\r\n\r\nconst Manual = () => {\r\n    return (\r\n        <Container>\r\n            Manual\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Manual;","import React from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch, Redirect } from \"react-router-dom\";\r\nimport Home from \"../routes/Home\";\r\nimport Auth from \"../routes/Auth\";\r\nimport MyAnswers from \"../routes/MyAnswers\";\r\nimport QuestionDetail from \"../routes/QuestionDetail\";\r\nimport QuestionRegister from \"../routes/QuestionRegister\";\r\nimport Questions from \"../routes/Questions\";\r\nimport Navigation from \"../routes/Navigation\";\r\nimport Settings from \"../routes/Settings\";\r\nimport Community from \"../routes/Community\";\r\nimport UserAnswers from \"../routes/UserAnswers\";\r\nimport SignOut from \"../routes/SignOut\";\r\nimport Credit from \"../routes/Credit\";\r\nimport NotesUser from \"../routes/NotesUser\";\r\nimport NotesAnswer from \"../routes/NotesAnswer\";\r\nimport Manual from \"../routes/Manual\";\r\n\r\nconst AppRouter = ({ questionArray, isLoggedIn, userObj, refreshUser, refreshFriends, answerCount, noteData }) => {\r\n    return (\r\n        <Router>\r\n            {isLoggedIn ? \r\n            ( <> \r\n                <Navigation />\r\n                <Switch>\r\n                    <Route exact path=\"/\" >\r\n                        <Home userObj={userObj} answerCount={answerCount} refreshFriends={refreshFriends} />\r\n                    </Route>\r\n                    <Route exact path=\"/auth\" >\r\n                        <Auth />\r\n                    </Route>\r\n                    <Route exact path=\"/community\" >\r\n                        <Community userObj={userObj} refreshFriends={refreshFriends} />\r\n                    </Route>\r\n                    <Route exact path=\"/notes/user/:id\" >\r\n                        <NotesUser userObj={userObj} />\r\n                    </Route>\r\n                    <Route exact path=\"/notes/user/:id/:answerId\" >\r\n                        <NotesAnswer userObj={userObj} />\r\n                    </Route>\r\n                    <Route exact path=\"/myanswers\" >\r\n                        <MyAnswers questionArray={questionArray} userObj={userObj} />\r\n                    </Route>\r\n                    <Route exact path=\"/questions\" >\r\n                        <Questions answerCount={answerCount} questionArray={questionArray} userObj={userObj} />\r\n                    </Route>\r\n                    <Route exact path=\"/question/:id\" >\r\n                        <QuestionDetail userObj={userObj} refreshFriends={refreshFriends} />\r\n                    </Route>\r\n                    <Route exact path=\"/useranswer/:id\" >\r\n                        <UserAnswers userObj={userObj} refreshFriends={refreshFriends} />\r\n                    </Route>\r\n                    <Route exact path=\"/settings\" >\r\n                        <Settings refreshUser={refreshUser} userObj={userObj} />\r\n                    </Route>\r\n                    <Route exact path=\"/manual\">\r\n                        <Manual />\r\n                    </Route>                    \r\n                    <Route exact path=\"/credit\">\r\n                        <Credit />\r\n                    </Route>\r\n                    <Route exact path=\"/signout\" >\r\n                        <SignOut />\r\n                    </Route>\r\n                </Switch>\r\n                <Switch>\r\n                    <Route exact path=\"/questionregister\" >\r\n                        <QuestionRegister userObj={userObj} />\r\n                    </Route>\r\n                </Switch>\r\n            </>\r\n            ) : (\r\n            <>\r\n                <Route exact path=\"/\">\r\n                    <Auth />\r\n                </Route>\r\n                <Redirect from=\"*\" to=\"/\" />\r\n            </>\r\n            )\r\n            }\r\n        </Router>\r\n    )\r\n}\r\n\r\nexport default AppRouter;","import React, { useEffect, useState } from \"react\";\nimport styled, { createGlobalStyle } from \"styled-components\";\nimport reset from \"styled-reset\";\nimport { authService, dbService } from \"../fBase\";\nimport Loading from \"./Loading\";\nimport { setToken } from \"./Messaginginit\";\nimport AppRouter from \"./Router\";\nimport { isMobile } from \"react-device-detect\";\n\nconst GlobalStyle = createGlobalStyle`\n  ${reset};\n`;\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  font-family: Kyobo Handwriting;\n`;\n\nfunction App() {\n  const [init, setInit] = useState(false);\n  const [userObj, setUserObj] = useState(null);\n  const [answerCount, setAnswerCount] = useState('');\n\n  const questionArray = [\n    {\n        question : \"결정을 잘 하시나요?\",\n        questionId : \"b8f300df-0fff-4fd0-a066-3c5bafe6d024\"\n    }, \n    {\n        question: \"괜찮아요?\",\n        questionId: \"ce35b720-8cbf-43af-aae6-914403c99789\"\n    },\n    {\n        question: \"그리운가요?\",\n        questionId: \"9428cfbc-2a42-48aa-8e2f-42700e928af4\"\n    },\n    {\n        question: \"꼭 가보고 싶은 곳이 있나요?\",\n        questionId: \"16a9a4c6-d1d9-4977-97ec-1fca76dc7b9c\"\n    },\n    {\n        question: \"꿈이 있나요?\",\n        questionId: \"00d1e249-bd6a-452c-81a4-458b30640945\"\n    },\n    {\n        question: \"누군가에게 말하기 어려운 것이 있다면 여기에 적어보세요.\",\n        questionId: \"f08c3f4a-13b7-4d6a-bf2b-901df73e5751\"\n    },\n    {\n        question: \"느낌을 사기위해 무언가를 지불해본 적이 있나요?\",\n        questionId: \"09770edd-b174-44de-a314-95a83eaa613e\"\n    },\n    {\n        question: \"답답한가요?\",\n        questionId: \"840ce86f-8a9e-444d-b1c1-8dd589c200ab\"\n    },\n    {\n        question: \"당신께 사랑은 무엇인가요?\",\n        questionId: \"4adc09d4-5a43-45b9-a525-d77454fa70a5\"\n    },\n    {\n        question: \"당신께 행복은 무엇인가요?\",\n        questionId: \"4f24a89a-3155-435b-84cb-82c731037942\"\n    },\n    {\n        question: \"당신께도 질문이 있나요?\",\n        questionId: \"88b121a4-e8ab-4d2d-99d3-7fec0876d439\"\n    },\n    {\n        question: \"당신은 누구인가요?\",\n        questionId: \"fa92f9e9-853a-4332-8bc6-79567fa23db5\"\n    },\n    {\n        question: \"당신은 어떤 답장을 쓰고 싶으신가요?\",\n        questionId: \"38beaf3b-90f3-4463-bfed-b5f416459280\"\n    },\n    {\n        question: \"대화가 힘들때가 있나요?\",\n        questionId: \"e459723f-00cb-43c5-8486-6d021433aea1\"\n    },\n    {\n        question: \"두려운가요?\",\n        questionId: \"e4741c08-ad4b-4328-952f-755db960fd38\"\n    },\n    {\n        question: \"모순이 있나요?\",\n        questionId: \"f8e4799a-aa4a-4b04-8e9d-667fb1a1d512\"\n    },\n    {\n        question: \"무엇이라 불리고 싶나요?\",\n        questionId: \"b6e8e867-1483-4249-89c1-9bb4a32517a8\"\n    },\n    {\n        question: \"밤을 좋아하나요?\",\n        questionId: \"d1e623a3-1d3e-45fb-9f3a-e737d9675766\"\n    },\n    {\n        question: \"번외가 있나요?\",\n        questionId: \"c7209c46-b4c0-40d5-ad1c-c420ccb0b9dc\"\n    },\n    {\n        question: \"사랑이란 무엇일까요?\",\n        questionId: \"2075b151-ed2d-4813-953e-a59a1f2d5bc6\"\n    },\n    {\n        question: \"사랑하고 있나요?\",\n        questionId: \"a06a2a77-1d1d-434c-a25d-38b6b4a5d2da\"\n    },\n    {\n        question: \"사랑한다고 말해보세요.\",\n        questionId: \"085e6ddd-7498-4a67-a894-1c42acc1c36a\"\n    },\n    {\n        question: \"생각보다 중요하지 않았던 것이 있었나요?\",\n        questionId: \"1f726ded-2c33-4803-9c5c-23cb63045667\"\n    },\n    {\n        question: \"솔직한가요?\",\n        questionId: \"109366f3-5429-4764-af23-e941e06b6e56\"\n    },\n    {\n        question: \"어리광부리고 싶다면 여기에 부려보세요.\",\n        questionId: \"d79dcd7f-e346-4b8d-9c96-50e8841efe54\"\n    },\n    {\n        question: \"어릴 때 무얼하고 놀았는지 기억나나요?\",\n        questionId: \"4303d851-1cb9-4e99-bfa5-a8735da2914a\"\n    },\n    {\n        question: \"얼었던 것이 녹으면 무엇이 되나요?\",\n        questionId: \"02a8706b-03c3-446c-9500-df3dc8fae4b1\"\n    },\n    {\n        question: \"오늘 하늘은 무슨 색이었나요?\",\n        questionId: \"55b33e10-36a5-4d24-af30-c8fa8bf13113\"\n    },\n    {\n        question: \"용서할 수 있나요?\",\n        questionId: \"640d40e5-8bee-49a8-ac49-f0879defa381\"\n    },\n    {\n        question: \"이끌려본적이 있나요?\",\n        questionId: \"ca706d16-6248-42f2-9826-77a9d8f7f94e\"\n    },\n    {\n        question: \"이상형을 그려보세요.\",\n        questionId: \"f11f02b9-88fb-4632-bdde-f824df368199\"\n    },\n    {\n        question: \"이해받고 있나요?\",\n        questionId: \"69b10746-2ee8-4941-b4d6-b943d6af7960\"\n    },\n    {\n        question: \"잊었던 단어가 있나요?\",\n        questionId: \"2d6d5007-4a8b-4176-8b1b-9556d66a2b05\"\n    },\n    {\n        question: \"정말 소통하고 있나요?\",\n        questionId: \"5dc5d43e-9642-4272-a2cc-5724ef9e95f2\"\n    },\n    {\n        question: \"좋아하는 공간이 있나요?\",\n        questionId: \"5690fbae-3972-4dfc-a21c-d6a3be147b9c\"\n    },\n    {\n        question: \"즐거웠던 순간을 적어보세요.\",\n        questionId: \"4e996e57-2dd3-47a2-b34d-d996678d3f25\"\n    },\n    {\n        question: \"지금, 무슨 생각을 하시나요?\",\n        questionId: \"e57084db-75c3-419c-b34b-fc42088e8d48\"\n    },\n    {\n        question: \"지금, 무엇을 원하시나요?\",\n        questionId: \"4ddb5a9b-415a-44f6-83a6-c86455b2ca7a\"\n    },\n    {\n        question: \"지금, 어떤 감정을 느끼시나요?\",\n        questionId: \"1fe19a57-445c-49ec-bc6b-d5e4aaed4410\"\n    },\n    {\n        question: \"쫓기고 있나요?\",\n        questionId: \"b1d88547-3c58-4a79-a4a1-a9cca797b06f\"\n    },\n    {\n        question: \"큰 일이 닥친다면?\",\n        questionId: \"c483234f-4d47-4786-b28d-29633b1f7644\"\n    },\n    {\n        question: \"편지를 받은 기억이 있나요?\",\n        questionId: \"88b4306d-91b8-43cc-ae82-67457d41d4e3\"\n    },\n    {\n        question: \"표현하지 못하는 것이 있나요?\",\n        questionId: \"a4be7cc2-a279-4715-bbbd-7e5a72f9d20c\"\n    },\n    {\n        question: \"힘들었던 순간은 여기에 두고 가도록해요.\",\n        questionId: \"e7ffd573-2901-45d5-9c79-42bebaa1ea4b\"\n    },\n]\n\n    const requestToken = async (user) => {\n        let token = await setToken();\n        if (token !== JSON.parse(localStorage.getItem(\"drawerToken\"))) {\n            dbService.collection(\"users\").doc(`${user.uid}`).update({\n                token\n            })\n            localStorage.setItem(\"drawerToken\", JSON.stringify(token))\n        }\n    }\n\n  useEffect(() => {\n    if (isMobile) {\n        const htmlCss = document.querySelector(\"html\")\n        htmlCss.style.fontSize = \"16px\";\n    }\n    authService.onAuthStateChanged(async (user) => {\n      if (user) {\n        if (\"serviceWorker\" in navigator) {\n            requestToken(user);\n        }\n        dbService.collection(\"main\").doc(\"counts\")\n        .onSnapshot((snapshot) => {\n            const countData = snapshot.data();\n            setAnswerCount(countData.answers);\n        });\n        await dbService.collection(\"users\").doc(`${user.uid}`).get()\n        .then(snapshot => {\n            const userData= snapshot.data()\n            setUserObj({\n                uid: user.uid,\n                friends : (userData.friends \n                    ? userData.friends \n                    : []),\n                isPassword : userData.isPassword,\n                displayName: (user.displayName ? user.displayName : \"익명\"),\n                updateProfile: (args) => user.updateProfile(args),\n              })\n            setInit(true)\n        })\n      } else {\n        setUserObj(null)\n        setInit(true)\n      }\n    })\n  }, [])\n\n  const refreshUser = () => {\n    const user = authService.currentUser;\n    setUserObj({\n      displayName:user.displayName,\n      uid:user.uid,\n      isPassword: user.isPassword,\n      friends: user.friends,\n      updateProfile: (args) => user.updateProfile(args),\n    });\n  };\n\n  const refreshFriends = (friends) => {\n    const user = authService.currentUser;\n    setUserObj({\n      displayName:user.displayName,\n      uid:user.uid,\n      isPassword: user.isPassword,\n      friends,\n      updateProfile: (args) => user.updateProfile(args),\n    });\n  }\n\n  return (\n    <Container>\n      <GlobalStyle />\n      {init \n      ? \n      <>\n        <AppRouter questionArray={questionArray} isLoggedIn={Boolean(userObj)} userObj={userObj} refreshUser={refreshUser} refreshFriends={refreshFriends} answerCount={answerCount} />\n      </>\n      : <Loading />\n        }\n    </Container>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport * as Sentry from '@sentry/react';\nimport { Integrations } from '@sentry/tracing';\nimport \"./styles.css\"\nimport * as serviceWorker from \"./serviceWorkerRegistration\";\nimport 'core-js/stable';\nimport 'regenerator-runtime/runtime';\nimport 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/stable';\n\nSentry.init({\n  dsn: \"https://fcd371c95b264c58b9ada1ed4d63c6e9@o1065943.ingest.sentry.io/6058254\",\n  integrations: [new Integrations.BrowserTracing()],\n\n  // Set tracesSampleRate to 1.0 to capture 100%\n  // of transactions for performance monitoring.\n  // We recommend adjusting this value in production\n  tracesSampleRate: 1.0,\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nif (\"serviceWorker\" in navigator) {\n  serviceWorker.register()\n}\n"],"sourceRoot":""}